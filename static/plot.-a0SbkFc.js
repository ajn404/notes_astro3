import{j as Ee}from"./jsx-runtime.bkUup59_.js";import{r as wi}from"./index.yqZja8WZ.js";import{R as nc,a as Jd,d as tc,e as rc,C as ic,m as xf,n as Ge,h as ac,o as e0,r as $r,p as xr,s as Ct,q as fc,g as zt,i as Oa}from"./transform.rIbAU3BW.js";import{b as Ke,n as n0,c as t0,i as oc,d as gn,e as Tf,f as Vr,t as Pa,g as Xr,h as Ki,j as r0,k as Gr,m as Gn,o as cc,p as uc,q as Sf,r as i0,s as Zr,u as sc,v as Kr,l as lc,a as a0}from"./linear.Qu-qMTOU.js";import{a as de,m as qa,t as Qr,p as Qi,c as dc,s as Tr,j as Ji}from"./math.rsE9wA0G.js";import{r as f0,d as o0,c as c0,a as Cf,w as hc,b as pc,i as gc}from"./rainbow.E6mQWB6L.js";import{p as u0}from"./pointer.NWbRRyY8.js";import"./_commonjsHelpers.4gQjN7DL.js";function s0(e){return e.length|0}function l0(e){return!(e>0)}function d0(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function h0(e){return n=>e(...n)}function p0(...e){const n=typeof e[e.length-1]=="function"&&h0(e.pop());e=e.map(d0);const t=e.map(s0),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||t.some(l0))return a;for(;;){a.push(i.map((o,c)=>e[c][o]));let f=r;for(;++i[f]===t[f];){if(f===0)return n?a.map(n):a;i[f--]=0}}}function g0(e,n){var t=0,r=0;return Float64Array.from(e,n===void 0?i=>t+=+i||0:i=>t+=+n(i,r++,e)||0)}function mc(e,n){let t=0,r,i=0,a=0;if(n===void 0)for(let f of e)f!=null&&(f=+f)>=f&&(r=f-i,i+=r/++t,a+=r*(f-i));else{let f=-1;for(let o of e)(o=n(o,++f,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++t,a+=r*(o-i))}if(t>1)return a/(t-1)}function m0(e,n){const t=mc(e,n);return t&&Math.sqrt(t)}function vn(e,n){let t,r;if(n===void 0)for(const i of e)i!=null&&(t===void 0?i>=i&&(t=r=i):(t>i&&(t=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(t===void 0?a>=a&&(t=r=a):(t>a&&(t=a),r<a&&(r=a)))}return[t,r]}class En{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=t[i],f=n+a,o=Math.abs(n)<Math.abs(a)?n-(f-a):a-(f-n);o&&(t[r++]=o),n=f}return t[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let t=this._n,r,i,a,f=0;if(t>0){for(f=n[--t];t>0&&(r=f,i=n[--t],f=r+i,a=i-(f-r),!a););t>0&&(a<0&&n[t-1]<0||a>0&&n[t-1]>0)&&(i=a*2,r=f+i,i==r-f&&(f=r))}return f}}class Dn extends Map{constructor(n,t=wc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(ea(this,n))}has(n){return super.has(ea(this,n))}set(n,t){return super.set(bc(this,n),t)}delete(n){return super.delete(yc(this,n))}}class Jr extends Set{constructor(n,t=wc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(ea(this,n))}add(n){return super.add(bc(this,n))}delete(n){return super.delete(yc(this,n))}}function ea({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):t}function bc({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function yc({_intern:e,_key:n},t){const r=n(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function wc(e){return e!==null&&typeof e=="object"?e.valueOf():e}function na(e){return e}function vc(e,...n){return Wa(e,na,na,n)}function At(e,n,...t){return Wa(e,na,n,t)}function b0(e,n,...t){return Wa(e,Array.from,n,t)}function Wa(e,n,t,r){return function i(a,f){if(f>=r.length)return t(a);const o=new Dn,c=r[f++];let s=-1;for(const u of a){const d=c(u,++s,a),l=o.get(d);l?l.push(u):o.set(d,[u])}for(const[u,d]of o)o.set(u,i(d,f));return n(o)}(e,0)}function y0(e,n){return Array.from(n,t=>e[t])}function ta(e,...n){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[t]=n;if(t&&t.length!==2||n.length>1){const r=Uint32Array.from(e,(i,a)=>a);return n.length>1?(n=n.map(i=>e.map(i)),r.sort((i,a)=>{for(const f of n){const o=Sr(f[i],f[a]);if(o)return o}})):(t=e.map(t),r.sort((i,a)=>Sr(t[i],t[a]))),y0(e,r)}return e.sort(Mc(t))}function Mc(e=Ke){if(e===Ke)return Sr;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,t)=>{const r=e(n,t);return r||r===0?r:(e(t,t)===0)-(e(n,n)===0)}}function Sr(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}function Ba(e,n,t){return(n.length!==2?ta(At(e,n,t),([r,i],[a,f])=>Ke(i,f)||Ke(r,a)):ta(vc(e,t),([r,i],[a,f])=>n(i,f)||Ke(r,a))).map(([r])=>r)}function Be(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t<i||t===void 0&&i>=i)&&(t=i)}return t}function w0(e,n){let t,r=-1,i=-1;if(n===void 0)for(const a of e)++i,a!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of e)(a=n(a,++i,e))!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);return r}function dn(e,n){let t;if(n===void 0)for(const r of e)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of e)(i=n(i,++r,e))!=null&&(t>i||t===void 0&&i>=i)&&(t=i)}return t}function v0(e,n){let t,r=-1,i=-1;if(n===void 0)for(const a of e)++i,a!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of e)(a=n(a,++i,e))!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);return r}function $c(e,n,t=0,r=1/0,i){if(n=Math.floor(n),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(e.length-1,r)),!(t<=n&&n<=r))return e;for(i=i===void 0?Sr:Mc(i);r>t;){if(r-t>600){const c=r-t+1,s=n-t+1,u=Math.log(c),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(c-d)/c)*(s-c/2<0?-1:1),h=Math.max(t,Math.floor(n-s*d/c+l)),p=Math.min(r,Math.floor(n+(c-s)*d/c+l));$c(e,n,h,p,i)}const a=e[n];let f=t,o=r;for(pt(e,t,n),i(e[r],a)>0&&pt(e,t,r);f<o;){for(pt(e,f,o),++f,--o;i(e[f],a)<0;)++f;for(;i(e[o],a)>0;)--o}i(e[t],a)===0?pt(e,t,o):(++o,pt(e,o,r)),o<=n&&(t=o+1),n<=o&&(r=o-1)}return e}function pt(e,n,t){const r=e[n];e[n]=e[t],e[t]=r}function xc(e,n=Ke){let t,r=!1;if(n.length===1){let i;for(const a of e){const f=n(a);(r?Ke(f,i)>0:Ke(f,f)===0)&&(t=a,i=f,r=!0)}}else for(const i of e)(r?n(i,t)>0:n(i,i)===0)&&(t=i,r=!0);return t}function Cr(e,n,t){if(e=Float64Array.from(n0(e,t)),!(!(r=e.length)||isNaN(n=+n))){if(n<=0||r<2)return dn(e);if(n>=1)return Be(e);var r,i=(r-1)*n,a=Math.floor(i),f=Be($c(e,a).subarray(0,a+1)),o=dn(e.subarray(a+1));return f+(o-f)*(i-a)}}function M0(e,n,t=t0){if(!(!(r=e.length)||isNaN(n=+n))){if(n<=0||r<2)return+t(e[0],0,e);if(n>=1)return+t(e[r-1],r-1,e);var r,i=(r-1)*n,a=Math.floor(i),f=+t(e[a],a,e),o=+t(e[a+1],a+1,e);return f+(o-f)*(i-a)}}function $0(e,n){let t=0,r=0;if(n===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++t,r+=i);else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(a=+a)>=a&&(++t,r+=a)}if(t)return r/t}function ra(e,n){return Cr(e,.5,n)}function*x0(e){for(const n of e)yield*n}function Tc(e){return Array.from(x0(e))}function T0(e,n){const t=new Dn;if(n===void 0)for(let a of e)a!=null&&a>=a&&t.set(a,(t.get(a)||0)+1);else{let a=-1;for(let f of e)(f=n(f,++a,e))!=null&&f>=f&&t.set(f,(t.get(f)||0)+1)}let r,i=0;for(const[a,f]of t)f>i&&(i=f,r=a);return r}function S0(e,n=C0){const t=[];let r,i=!1;for(const a of e)i&&t.push(n(r,a)),r=a,i=!0;return t}function C0(e,n){return[e,n]}function ia(e,n,t){e=+e,n=+n,t=(i=arguments.length)<2?(n=e,e=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((n-e)/t))|0,a=new Array(i);++r<i;)a[r]=e+r*t;return a}function Ln(e,n){let t=0;if(n===void 0)for(let r of e)(r=+r)&&(t+=r);else{let r=-1;for(let i of e)(i=+n(i,++r,e))&&(t+=i)}return t}function Ar(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}const Er=18,Sc=.96422,Cc=1,Ac=.82521,Ec=4/29,Qn=6/29,Dc=3*Qn*Qn,A0=Qn*Qn*Qn;function Lc(e){if(e instanceof Qe)return new Qe(e.l,e.a,e.b,e.opacity);if(e instanceof un)return Ic(e);e instanceof nc||(e=Jd(e));var n=xi(e.r),t=xi(e.g),r=xi(e.b),i=vi((.2225045*n+.7168786*t+.0606169*r)/Cc),a,f;return n===t&&t===r?a=f=i:(a=vi((.4360747*n+.3850649*t+.1430804*r)/Sc),f=vi((.0139322*n+.0971045*t+.7141733*r)/Ac)),new Qe(116*i-16,500*(a-i),200*(i-f),e.opacity)}function aa(e,n,t,r){return arguments.length===1?Lc(e):new Qe(e,n,t,r??1)}function Qe(e,n,t,r){this.l=+e,this.a=+n,this.b=+t,this.opacity=+r}tc(Qe,aa,rc(ic,{brighter(e){return new Qe(this.l+Er*(e??1),this.a,this.b,this.opacity)},darker(e){return new Qe(this.l-Er*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return n=Sc*Mi(n),e=Cc*Mi(e),t=Ac*Mi(t),new nc($i(3.1338561*n-1.6168667*e-.4906146*t),$i(-.9787684*n+1.9161415*e+.033454*t),$i(.0719453*n-.2289914*e+1.4052427*t),this.opacity)}}));function vi(e){return e>A0?Math.pow(e,1/3):e/Dc+Ec}function Mi(e){return e>Qn?e*e*e:Dc*(e-Ec)}function $i(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function xi(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function E0(e){if(e instanceof un)return new un(e.h,e.c,e.l,e.opacity);if(e instanceof Qe||(e=Lc(e)),e.a===0&&e.b===0)return new un(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var n=Math.atan2(e.b,e.a)*o0;return new un(n<0?n+360:n,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function fa(e,n,t,r){return arguments.length===1?E0(e):new un(e,n,t,r??1)}function un(e,n,t,r){this.h=+e,this.c=+n,this.l=+t,this.opacity=+r}function Ic(e){if(isNaN(e.h))return new Qe(e.l,0,0,e.opacity);var n=e.h*f0;return new Qe(e.l,Math.cos(n)*e.c,Math.sin(n)*e.c,e.opacity)}tc(un,fa,rc(ic,{brighter(e){return new un(this.h,this.c,this.l+Er*(e??1),this.opacity)},darker(e){return new un(this.h,this.c,this.l-Er*(e??1),this.opacity)},rgb(){return Ic(this).rgb()}}));function D0(e){return function(n,t){var r=e((n=xf(n)).h,(t=xf(t)).h),i=Ge(n.s,t.s),a=Ge(n.l,t.l),f=Ge(n.opacity,t.opacity);return function(o){return n.h=r(o),n.s=i(o),n.l=a(o),n.opacity=f(o),n+""}}}const L0=D0(ac);function I0(e,n){var t=Ge((e=aa(e)).l,(n=aa(n)).l),r=Ge(e.a,n.a),i=Ge(e.b,n.b),a=Ge(e.opacity,n.opacity);return function(f){return e.l=t(f),e.a=r(f),e.b=i(f),e.opacity=a(f),e+""}}function N0(e){return function(n,t){var r=e((n=fa(n)).h,(t=fa(t)).h),i=Ge(n.c,t.c),a=Ge(n.l,t.l),f=Ge(n.opacity,t.opacity);return function(o){return n.h=r(o),n.c=i(o),n.l=a(o),n.opacity=f(o),n+""}}}const R0=N0(ac);function ei(e,n){n===void 0&&(n=e,e=oc);for(var t=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);t<r;)a[t]=e(i,i=n[++t]);return function(f){var o=Math.max(0,Math.min(r-1,Math.floor(f*=r)));return a[o](f-o)}}function ze(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e(r/(n-1));return t}var _=1e-6,Nc=1e-12,Z=Math.PI,ue=Z/2,Af=Z/4,Ce=Z*2,ye=180/Z,oe=Z/180,re=Math.abs,ut=Math.atan,hn=Math.atan2,X=Math.cos,Rc=Math.exp,Dr=Math.log,Ti=Math.pow,H=Math.sin,Ne=Math.sign||function(e){return e>0?1:e<0?-1:0},$e=Math.sqrt,za=Math.tan;function kc(e){return e>1?0:e<-1?Z:Math.acos(e)}function Ue(e){return e>1?ue:e<-1?-ue:Math.asin(e)}function Re(){}function Lr(e,n){e&&Df.hasOwnProperty(e.type)&&Df[e.type](e,n)}var Ef={Feature:function(e,n){Lr(e.geometry,n)},FeatureCollection:function(e,n){for(var t=e.features,r=-1,i=t.length;++r<i;)Lr(t[r].geometry,n)}},Df={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(e,n){for(var t=e.coordinates,r=-1,i=t.length;++r<i;)e=t[r],n.point(e[0],e[1],e[2])},LineString:function(e,n){oa(e.coordinates,n,0)},MultiLineString:function(e,n){for(var t=e.coordinates,r=-1,i=t.length;++r<i;)oa(t[r],n,0)},Polygon:function(e,n){Lf(e.coordinates,n)},MultiPolygon:function(e,n){for(var t=e.coordinates,r=-1,i=t.length;++r<i;)Lf(t[r],n)},GeometryCollection:function(e,n){for(var t=e.geometries,r=-1,i=t.length;++r<i;)Lr(t[r],n)}};function oa(e,n,t){var r=-1,i=e.length-t,a;for(n.lineStart();++r<i;)a=e[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function Lf(e,n){var t=-1,r=e.length;for(n.polygonStart();++t<r;)oa(e[t],n,1);n.polygonEnd()}function Sn(e,n){e&&Ef.hasOwnProperty(e.type)?Ef[e.type](e,n):Lr(e,n)}function ca(e){return[hn(e[1],e[0]),Ue(e[2])]}function et(e){var n=e[0],t=e[1],r=X(t);return[r*X(n),r*H(n),H(t)]}function fr(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function Ir(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function Si(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function or(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function ua(e){var n=$e(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}function sa(e,n){function t(r,i){return r=e(r,i),n(r[0],r[1])}return e.invert&&n.invert&&(t.invert=function(r,i){return r=n.invert(r,i),r&&e.invert(r[0],r[1])}),t}function la(e,n){return re(e)>Z&&(e-=Math.round(e/Ce)*Ce),[e,n]}la.invert=la;function Fc(e,n,t){return(e%=Ce)?n||t?sa(Nf(e),Rf(n,t)):Nf(e):n||t?Rf(n,t):la}function If(e){return function(n,t){return n+=e,re(n)>Z&&(n-=Math.round(n/Ce)*Ce),[n,t]}}function Nf(e){var n=If(e);return n.invert=If(-e),n}function Rf(e,n){var t=X(e),r=H(e),i=X(n),a=H(n);function f(o,c){var s=X(c),u=X(o)*s,d=H(o)*s,l=H(c),h=l*t+u*r;return[hn(d*i-h*a,u*t-l*r),Ue(h*i+d*a)]}return f.invert=function(o,c){var s=X(c),u=X(o)*s,d=H(o)*s,l=H(c),h=l*i-d*a;return[hn(d*i+l*a,u*t+h*r),Ue(h*t-u*r)]},f}function k0(e){e=Fc(e[0]*oe,e[1]*oe,e.length>2?e[2]*oe:0);function n(t){return t=e(t[0]*oe,t[1]*oe),t[0]*=ye,t[1]*=ye,t}return n.invert=function(t){return t=e.invert(t[0]*oe,t[1]*oe),t[0]*=ye,t[1]*=ye,t},n}function F0(e,n,t,r,i,a){if(t){var f=X(n),o=H(n),c=r*t;i==null?(i=n+r*Ce,a=n-c/2):(i=kf(f,i),a=kf(f,a),(r>0?i<a:i>a)&&(i+=r*Ce));for(var s,u=i;r>0?u>a:u<a;u-=c)s=ca([f,-o*X(u),-o*H(u)]),e.point(s[0],s[1])}}function kf(e,n){n=et(n),n[0]-=e,ua(n);var t=kc(-n[1]);return((-n[2]<0?-t:t)+Ce-_)%Ce}function Uc(){var e=[],n;return{point:function(t,r,i){n.push([t,r,i])},lineStart:function(){e.push(n=[])},lineEnd:Re,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function wr(e,n){return re(e[0]-n[0])<_&&re(e[1]-n[1])<_}function cr(e,n,t,r){this.x=e,this.z=n,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function Oc(e,n,t,r,i){var a=[],f=[],o,c;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],w=p[g],m;if(wr(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),o=0;o<g;++o)i.point((b=p[o])[0],b[1]);i.lineEnd();return}w[0]+=2*_}a.push(m=new cr(b,p,null,!0)),f.push(m.o=new cr(b,null,m,!1)),a.push(m=new cr(w,p,null,!1)),f.push(m.o=new cr(w,null,m,!0))}}),!!a.length){for(f.sort(n),Ff(a),Ff(f),o=0,c=f.length;o<c;++o)f[o].e=t=!t;for(var s=a[0],u,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(o=0,c=u.length;o<c;++o)i.point((d=u[o])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Ff(e){if(n=e.length){for(var n,t=0,r=e[0],i;++t<n;)r.n=i=e[t],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Ci(e){return re(e[0])<=Z?e[0]:Ne(e[0])*((re(e[0])+Z)%Ce-Z)}function U0(e,n){var t=Ci(n),r=n[1],i=H(r),a=[H(t),-X(t),0],f=0,o=0,c=new En;i===1?r=ue+_:i===-1&&(r=-ue-_);for(var s=0,u=e.length;s<u;++s)if(l=(d=e[s]).length)for(var d,l,h=d[l-1],p=Ci(h),g=h[1]/2+Af,b=H(g),w=X(g),m=0;m<l;++m,p=y,b=v,w=T,h=$){var $=d[m],y=Ci($),M=$[1]/2+Af,v=H(M),T=X(M),D=y-p,C=D>=0?1:-1,L=C*D,E=L>Z,O=b*v;if(c.add(hn(O*C*H(L),w*T+O*X(L))),f+=E?D+C*Ce:D,E^p>=t^y>=t){var z=Ir(et(h),et($));ua(z);var k=Ir(a,z);ua(k);var x=(E^D>=0?-1:1)*Ue(k[2]);(r>x||r===x&&(z[0]||z[1]))&&(o+=E^D>=0?1:-1)}}return(f<-_||f<_&&c<-Nc)^o&1}function Pc(e,n,t,r){return function(i){var a=n(i),f=Uc(),o=n(f),c=!1,s,u,d,l={point:h,lineStart:g,lineEnd:b,polygonStart:function(){l.point=w,l.lineStart=m,l.lineEnd=$,u=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=b,u=Tc(u);var y=U0(s,r);u.length?(c||(i.polygonStart(),c=!0),Oc(u,P0,y,t,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,M){e(y,M)&&i.point(y,M)}function p(y,M){a.point(y,M)}function g(){l.point=p,a.lineStart()}function b(){l.point=h,a.lineEnd()}function w(y,M){d.push([y,M]),o.point(y,M)}function m(){o.lineStart(),d=[]}function $(){w(d[0][0],d[0][1]),o.lineEnd();var y=o.clean(),M=f.result(),v,T=M.length,D,C,L;if(d.pop(),s.push(d),d=null,!!T){if(y&1){if(C=M[0],(D=C.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),v=0;v<D;++v)i.point((L=C[v])[0],L[1]);i.lineEnd()}return}T>1&&y&2&&M.push(M.pop().concat(M.shift())),u.push(M.filter(O0))}}return l}}function O0(e){return e.length>1}function P0(e,n){return((e=e.x)[0]<0?e[1]-ue-_:ue-e[1])-((n=n.x)[0]<0?n[1]-ue-_:ue-n[1])}const Uf=Pc(function(){return!0},q0,B0,[-Z,-ue]);function q0(e){var n=NaN,t=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,f){var o=a>0?Z:-Z,c=re(a-n);re(c-Z)<_?(e.point(n,t=(t+f)/2>0?ue:-ue),e.point(r,t),e.lineEnd(),e.lineStart(),e.point(o,t),e.point(a,t),i=0):r!==o&&c>=Z&&(re(n-r)<_&&(n-=r*_),re(a-o)<_&&(a-=o*_),t=W0(n,t,a,f),e.point(r,t),e.lineEnd(),e.lineStart(),e.point(o,t),i=0),e.point(n=a,t=f),r=o},lineEnd:function(){e.lineEnd(),n=t=NaN},clean:function(){return 2-i}}}function W0(e,n,t,r){var i,a,f=H(e-t);return re(f)>_?ut((H(n)*(a=X(r))*H(t)-H(r)*(i=X(n))*H(e))/(i*a*f)):(n+r)/2}function B0(e,n,t,r){var i;if(e==null)i=t*ue,r.point(-Z,i),r.point(0,i),r.point(Z,i),r.point(Z,0),r.point(Z,-i),r.point(0,-i),r.point(-Z,-i),r.point(-Z,0),r.point(-Z,i);else if(re(e[0]-n[0])>_){var a=e[0]<n[0]?Z:-Z;i=t*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function z0(e){var n=X(e),t=6*oe,r=n>0,i=re(n)>_;function a(u,d,l,h){F0(h,e,t,l,u,d)}function f(u,d){return X(u)*X(d)>n}function o(u){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(b,w){var m=[b,w],$,y=f(b,w),M=r?y?0:s(b,w):y?s(b+(b<0?Z:-Z),w):0;if(!d&&(p=h=y)&&u.lineStart(),y!==h&&($=c(d,m),(!$||wr(d,$)||wr(m,$))&&(m[2]=1)),y!==h)g=0,y?(u.lineStart(),$=c(m,d),u.point($[0],$[1])):($=c(d,m),u.point($[0],$[1],2),u.lineEnd()),d=$;else if(i&&d&&r^y){var v;!(M&l)&&(v=c(m,d,!0))&&(g=0,r?(u.lineStart(),u.point(v[0][0],v[0][1]),u.point(v[1][0],v[1][1]),u.lineEnd()):(u.point(v[1][0],v[1][1]),u.lineEnd(),u.lineStart(),u.point(v[0][0],v[0][1],3)))}y&&(!d||!wr(d,m))&&u.point(m[0],m[1]),d=m,h=y,l=M},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function c(u,d,l){var h=et(u),p=et(d),g=[1,0,0],b=Ir(h,p),w=fr(b,b),m=b[0],$=w-m*m;if(!$)return!l&&u;var y=n*w/$,M=-n*m/$,v=Ir(g,b),T=or(g,y),D=or(b,M);Si(T,D);var C=v,L=fr(T,C),E=fr(C,C),O=L*L-E*(fr(T,T)-1);if(!(O<0)){var z=$e(O),k=or(C,(-L-z)/E);if(Si(k,T),k=ca(k),!l)return k;var x=u[0],N=d[0],G=u[1],j=d[1],I;N<x&&(I=x,x=N,N=I);var P=N-x,q=re(P-Z)<_,R=q||P<_;if(!q&&j<G&&(I=G,G=j,j=I),R?q?G+j>0^k[1]<(re(k[0]-x)<_?G:j):G<=k[1]&&k[1]<=j:P>Z^(x<=k[0]&&k[0]<=N)){var B=or(C,(-L+z)/E);return Si(B,T),[k,ca(B)]}}}function s(u,d){var l=r?e:Z-e,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return Pc(f,o,a,r?[0,-e]:[-Z,e-Z])}function Y0(e,n,t,r,i,a){var f=e[0],o=e[1],c=n[0],s=n[1],u=0,d=1,l=c-f,h=s-o,p;if(p=t-f,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-f,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-o,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=a-o,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(e[0]=f+u*l,e[1]=o+u*h),d<1&&(n[0]=f+d*l,n[1]=o+d*h),!0}}}}}var vt=1e9,ur=-vt;function qc(e,n,t,r){function i(s,u){return e<=s&&s<=t&&n<=u&&u<=r}function a(s,u,d,l){var h=0,p=0;if(s==null||(h=f(s,d))!==(p=f(u,d))||c(s,u)<0^d>0)do l.point(h===0||h===3?e:t,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function f(s,u){return re(s[0]-e)<_?u>0?0:3:re(s[0]-t)<_?u>0?2:1:re(s[1]-n)<_?u>0?1:0:u>0?3:2}function o(s,u){return c(s.x,u.x)}function c(s,u){var d=f(s,1),l=f(u,1);return d!==l?d-l:d===0?u[1]-s[1]:d===1?s[0]-u[0]:d===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,d=Uc(),l,h,p,g,b,w,m,$,y,M,v,T={point:D,lineStart:O,lineEnd:z,polygonStart:L,polygonEnd:E};function D(x,N){i(x,N)&&u.point(x,N)}function C(){for(var x=0,N=0,G=h.length;N<G;++N)for(var j=h[N],I=1,P=j.length,q=j[0],R,B,te=q[0],Q=q[1];I<P;++I)R=te,B=Q,q=j[I],te=q[0],Q=q[1],B<=r?Q>r&&(te-R)*(r-B)>(Q-B)*(e-R)&&++x:Q<=r&&(te-R)*(r-B)<(Q-B)*(e-R)&&--x;return x}function L(){u=d,l=[],h=[],v=!0}function E(){var x=C(),N=v&&x,G=(l=Tc(l)).length;(N||G)&&(s.polygonStart(),N&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),G&&Oc(l,o,x,a,s),s.polygonEnd()),u=s,l=h=p=null}function O(){T.point=k,h&&h.push(p=[]),M=!0,y=!1,m=$=NaN}function z(){l&&(k(g,b),w&&y&&d.rejoin(),l.push(d.result())),T.point=D,y&&u.lineEnd()}function k(x,N){var G=i(x,N);if(h&&p.push([x,N]),M)g=x,b=N,w=G,M=!1,G&&(u.lineStart(),u.point(x,N));else if(G&&y)u.point(x,N);else{var j=[m=Math.max(ur,Math.min(vt,m)),$=Math.max(ur,Math.min(vt,$))],I=[x=Math.max(ur,Math.min(vt,x)),N=Math.max(ur,Math.min(vt,N))];Y0(j,I,e,n,t,r)?(y||(u.lineStart(),u.point(j[0],j[1])),u.point(I[0],I[1]),G||u.lineEnd(),v=!1):G&&(u.lineStart(),u.point(x,N),v=!1)}m=x,$=N,y=G}return T}}const da=e=>e;var Ai=new En,ha=new En,Wc,Bc,pa,ga,cn={point:Re,lineStart:Re,lineEnd:Re,polygonStart:function(){cn.lineStart=H0,cn.lineEnd=_0},polygonEnd:function(){cn.lineStart=cn.lineEnd=cn.point=Re,Ai.add(re(ha)),ha=new En},result:function(){var e=Ai/2;return Ai=new En,e}};function H0(){cn.point=j0}function j0(e,n){cn.point=zc,Wc=pa=e,Bc=ga=n}function zc(e,n){ha.add(ga*e-pa*n),pa=e,ga=n}function _0(){zc(Wc,Bc)}var nt=1/0,Nr=nt,Nt=-nt,Rr=Nt,kr={point:V0,lineStart:Re,lineEnd:Re,polygonStart:Re,polygonEnd:Re,result:function(){var e=[[nt,Nr],[Nt,Rr]];return Nt=Rr=-(Nr=nt=1/0),e}};function V0(e,n){e<nt&&(nt=e),e>Nt&&(Nt=e),n<Nr&&(Nr=n),n>Rr&&(Rr=n)}var ma=0,ba=0,Mt=0,Fr=0,Ur=0,Zn=0,ya=0,wa=0,$t=0,Yc,Hc,Ve,Xe,Ie={point:In,lineStart:Of,lineEnd:Pf,polygonStart:function(){Ie.lineStart=Z0,Ie.lineEnd=K0},polygonEnd:function(){Ie.point=In,Ie.lineStart=Of,Ie.lineEnd=Pf},result:function(){var e=$t?[ya/$t,wa/$t]:Zn?[Fr/Zn,Ur/Zn]:Mt?[ma/Mt,ba/Mt]:[NaN,NaN];return ma=ba=Mt=Fr=Ur=Zn=ya=wa=$t=0,e}};function In(e,n){ma+=e,ba+=n,++Mt}function Of(){Ie.point=X0}function X0(e,n){Ie.point=G0,In(Ve=e,Xe=n)}function G0(e,n){var t=e-Ve,r=n-Xe,i=$e(t*t+r*r);Fr+=i*(Ve+e)/2,Ur+=i*(Xe+n)/2,Zn+=i,In(Ve=e,Xe=n)}function Pf(){Ie.point=In}function Z0(){Ie.point=Q0}function K0(){jc(Yc,Hc)}function Q0(e,n){Ie.point=jc,In(Yc=Ve=e,Hc=Xe=n)}function jc(e,n){var t=e-Ve,r=n-Xe,i=$e(t*t+r*r);Fr+=i*(Ve+e)/2,Ur+=i*(Xe+n)/2,Zn+=i,i=Xe*e-Ve*n,ya+=i*(Ve+e),wa+=i*(Xe+n),$t+=i*3,In(Ve=e,Xe=n)}function _c(e){this._context=e}_c.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,n){switch(this._point){case 0:{this._context.moveTo(e,n),this._point=1;break}case 1:{this._context.lineTo(e,n);break}default:{this._context.moveTo(e+this._radius,n),this._context.arc(e,n,this._radius,0,Ce);break}}},result:Re};var va=new En,Ei,Vc,Xc,xt,Tt,Rt={point:Re,lineStart:function(){Rt.point=J0},lineEnd:function(){Ei&&Gc(Vc,Xc),Rt.point=Re},polygonStart:function(){Ei=!0},polygonEnd:function(){Ei=null},result:function(){var e=+va;return va=new En,e}};function J0(e,n){Rt.point=Gc,Vc=xt=e,Xc=Tt=n}function Gc(e,n){xt-=e,Tt-=n,va.add($e(xt*xt+Tt*Tt)),xt=e,Tt=n}let qf,Or,Wf,Bf;class zf{constructor(n){this._append=n==null?Zc:eh(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:{this._append`M${n},${t}`,this._point=1;break}case 1:{this._append`L${n},${t}`;break}default:{if(this._append`M${n},${t}`,this._radius!==Wf||this._append!==Or){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Wf=r,Or=this._append,Bf=this._,this._=i}this._+=Bf;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Zc(e){let n=1;this._+=e[0];for(const t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function eh(e){const n=Math.floor(e);if(!(n>=0))throw new RangeError(`invalid digits: ${e}`);if(n>15)return Zc;if(n!==qf){const t=10**n;qf=n,Or=function(i){let a=1;this._+=i[0];for(const f=i.length;a<f;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}return Or}function Kc(e,n){let t=3,r=4.5,i,a;function f(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Sn(o,i(a))),a.result()}return f.area=function(o){return Sn(o,i(cn)),cn.result()},f.measure=function(o){return Sn(o,i(Rt)),Rt.result()},f.bounds=function(o){return Sn(o,i(kr)),kr.result()},f.centroid=function(o){return Sn(o,i(Ie)),Ie.result()},f.projection=function(o){return arguments.length?(i=o==null?(e=null,da):(e=o).stream,f):e},f.context=function(o){return arguments.length?(a=o==null?(n=null,new zf(t)):new _c(n=o),typeof r!="function"&&a.pointRadius(r),f):n},f.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),f):r},f.digits=function(o){if(!arguments.length)return t;if(o==null)t=null;else{const c=Math.floor(o);if(!(c>=0))throw new RangeError(`invalid digits: ${o}`);t=c}return n===null&&(a=new zf(t)),f},f.projection(e).digits(t).context(n)}function Ma(e){return{stream:ni(e)}}function ni(e){return function(n){var t=new $a;for(var r in e)t[r]=e[r];return t.stream=n,t}}function $a(){}$a.prototype={constructor:$a,point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ya(e,n,t){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Sn(t,e.stream(kr)),n(kr.result()),r!=null&&e.clipExtent(r),e}function Ha(e,n,t){return Ya(e,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],f=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+n[0][0]+(i-f*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(a-f*(r[1][1]+r[0][1]))/2;e.scale(150*f).translate([o,c])},t)}function Qc(e,n,t){return Ha(e,[[0,0],n],t)}function Jc(e,n,t){return Ya(e,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),f=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([f,o])},t)}function eu(e,n,t){return Ya(e,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),f=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([f,o])},t)}var Yf=16,nh=X(30*oe);function Hf(e,n){return+n?rh(e,n):th(e)}function th(e){return ni({point:function(n,t){n=e(n,t),this.stream.point(n[0],n[1])}})}function rh(e,n){function t(r,i,a,f,o,c,s,u,d,l,h,p,g,b){var w=s-r,m=u-i,$=w*w+m*m;if($>4*n&&g--){var y=f+l,M=o+h,v=c+p,T=$e(y*y+M*M+v*v),D=Ue(v/=T),C=re(re(v)-1)<_||re(a-d)<_?(a+d)/2:hn(M,y),L=e(C,D),E=L[0],O=L[1],z=E-r,k=O-i,x=m*z-w*k;(x*x/$>n||re((w*z+m*k)/$-.5)>.3||f*l+o*h+c*p<nh)&&(t(r,i,a,f,o,c,E,O,C,y/=T,M/=T,v,g,b),b.point(E,O),t(E,O,C,y,M,v,s,u,d,l,h,p,g,b))}}return function(r){var i,a,f,o,c,s,u,d,l,h,p,g,b={point:w,lineStart:m,lineEnd:y,polygonStart:function(){r.polygonStart(),b.lineStart=M},polygonEnd:function(){r.polygonEnd(),b.lineStart=m}};function w(D,C){D=e(D,C),r.point(D[0],D[1])}function m(){d=NaN,b.point=$,r.lineStart()}function $(D,C){var L=et([D,C]),E=e(D,C);t(d,l,u,h,p,g,d=E[0],l=E[1],u=D,h=L[0],p=L[1],g=L[2],Yf,r),r.point(d,l)}function y(){b.point=w,r.lineEnd()}function M(){m(),b.point=v,b.lineEnd=T}function v(D,C){$(i=D,C),a=d,f=l,o=h,c=p,s=g,b.point=$}function T(){t(d,l,u,h,p,g,a,f,i,o,c,s,Yf,r),b.lineEnd=y,y()}return b}}var ih=ni({point:function(e,n){this.stream.point(e*oe,n*oe)}});function ah(e){return ni({point:function(n,t){var r=e(n,t);return this.stream.point(r[0],r[1])}})}function fh(e,n,t,r,i){function a(f,o){return f*=r,o*=i,[n+e*f,t-e*o]}return a.invert=function(f,o){return[(f-n)/e*r,(t-o)/e*i]},a}function jf(e,n,t,r,i,a){if(!a)return fh(e,n,t,r,i);var f=X(a),o=H(a),c=f*e,s=o*e,u=f/e,d=o/e,l=(o*t-f*n)/e,h=(o*n+f*t)/e;function p(g,b){return g*=r,b*=i,[c*g-s*b+n,t-s*g-c*b]}return p.invert=function(g,b){return[r*(u*g-d*b+l),i*(h-d*g-u*b)]},p}function Mn(e){return nu(function(){return e})()}function nu(e){var n,t=150,r=480,i=250,a=0,f=0,o=0,c=0,s=0,u,d=0,l=1,h=1,p=null,g=Uf,b=null,w,m,$,y=da,M=.5,v,T,D,C,L;function E(x){return D(x[0]*oe,x[1]*oe)}function O(x){return x=D.invert(x[0],x[1]),x&&[x[0]*ye,x[1]*ye]}E.stream=function(x){return C&&L===x?C:C=ih(ah(u)(g(v(y(L=x)))))},E.preclip=function(x){return arguments.length?(g=x,p=void 0,k()):g},E.postclip=function(x){return arguments.length?(y=x,b=w=m=$=null,k()):y},E.clipAngle=function(x){return arguments.length?(g=+x?z0(p=x*oe):(p=null,Uf),k()):p*ye},E.clipExtent=function(x){return arguments.length?(y=x==null?(b=w=m=$=null,da):qc(b=+x[0][0],w=+x[0][1],m=+x[1][0],$=+x[1][1]),k()):b==null?null:[[b,w],[m,$]]},E.scale=function(x){return arguments.length?(t=+x,z()):t},E.translate=function(x){return arguments.length?(r=+x[0],i=+x[1],z()):[r,i]},E.center=function(x){return arguments.length?(a=x[0]%360*oe,f=x[1]%360*oe,z()):[a*ye,f*ye]},E.rotate=function(x){return arguments.length?(o=x[0]%360*oe,c=x[1]%360*oe,s=x.length>2?x[2]%360*oe:0,z()):[o*ye,c*ye,s*ye]},E.angle=function(x){return arguments.length?(d=x%360*oe,z()):d*ye},E.reflectX=function(x){return arguments.length?(l=x?-1:1,z()):l<0},E.reflectY=function(x){return arguments.length?(h=x?-1:1,z()):h<0},E.precision=function(x){return arguments.length?(v=Hf(T,M=x*x),k()):$e(M)},E.fitExtent=function(x,N){return Ha(E,x,N)},E.fitSize=function(x,N){return Qc(E,x,N)},E.fitWidth=function(x,N){return Jc(E,x,N)},E.fitHeight=function(x,N){return eu(E,x,N)};function z(){var x=jf(t,0,0,l,h,d).apply(null,n(a,f)),N=jf(t,r-x[0],i-x[1],l,h,d);return u=Fc(o,c,s),T=sa(n,N),D=sa(u,T),v=Hf(T,M),k()}function k(){return C=L=null,E}return function(){return n=e.apply(this,arguments),E.invert=n.invert&&O,z()}}function ja(e){var n=0,t=Z/3,r=nu(e),i=r(n,t);return i.parallels=function(a){return arguments.length?r(n=a[0]*oe,t=a[1]*oe):[n*ye,t*ye]},i}function oh(e){var n=X(e);function t(r,i){return[r*n,H(i)/n]}return t.invert=function(r,i){return[r/n,Ue(i*n)]},t}function ch(e,n){var t=H(e),r=(t+H(n))/2;if(re(r)<_)return oh(e);var i=1+t*(2*r-t),a=$e(i)/r;function f(o,c){var s=$e(i-2*r*H(c))/r;return[s*H(o*=r),a-s*X(o)]}return f.invert=function(o,c){var s=a-c,u=hn(o,re(s))*Ne(s);return s*r<0&&(u-=Z*Ne(o)*Ne(s)),[u/r,Ue((i-(o*o+s*s)*r*r)/(2*r))]},f}function Pr(){return ja(ch).scale(155.424).center([0,33.6442])}function tu(){return Pr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function uh(e){var n=e.length;return{point:function(t,r){for(var i=-1;++i<n;)e[i].point(t,r)},sphere:function(){for(var t=-1;++t<n;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<n;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<n;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<n;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<n;)e[t].polygonEnd()}}}function sh(){var e,n,t=tu(),r,i=Pr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,f=Pr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,c,s={point:function(l,h){c=[l,h]}};function u(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(a.point(h,p),c)||(o.point(h,p),c)}u.invert=function(l){var h=t.scale(),p=t.translate(),g=(l[0]-p[0])/h,b=(l[1]-p[1])/h;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?f:t).invert(l)},u.stream=function(l){return e&&n===l?e:e=uh([t.stream(n=l),i.stream(l),f.stream(l)])},u.precision=function(l){return arguments.length?(t.precision(l),i.precision(l),f.precision(l),d()):t.precision()},u.scale=function(l){return arguments.length?(t.scale(l),i.scale(l*.35),f.scale(l),u.translate(t.translate())):t.scale()},u.translate=function(l){if(!arguments.length)return t.translate();var h=t.scale(),p=+l[0],g=+l[1];return r=t.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+_,g+.12*h+_],[p-.214*h-_,g+.234*h-_]]).stream(s),o=f.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+_,g+.166*h+_],[p-.115*h-_,g+.234*h-_]]).stream(s),d()},u.fitExtent=function(l,h){return Ha(u,l,h)},u.fitSize=function(l,h){return Qc(u,l,h)},u.fitWidth=function(l,h){return Jc(u,l,h)},u.fitHeight=function(l,h){return eu(u,l,h)};function d(){return e=n=null,u}return u.scale(1070)}function ru(e){return function(n,t){var r=X(n),i=X(t),a=e(r*i);return a===1/0?[2,0]:[a*i*H(n),a*H(t)]}}function Yt(e){return function(n,t){var r=$e(n*n+t*t),i=e(r),a=H(i),f=X(i);return[hn(n*a,r*f),Ue(r&&t*a/r)]}}var iu=ru(function(e){return $e(2/(1+e))});iu.invert=Yt(function(e){return 2*Ue(e/2)});function lh(){return Mn(iu).scale(124.75).clipAngle(180-.001)}var au=ru(function(e){return(e=kc(e))&&e/H(e)});au.invert=Yt(function(e){return e});function dh(){return Mn(au).scale(79.4188).clipAngle(180-.001)}function ti(e,n){return[e,Dr(za((ue+n)/2))]}ti.invert=function(e,n){return[e,2*ut(Rc(n))-ue]};function hh(){return fu(ti).scale(961/Ce)}function fu(e){var n=Mn(e),t=n.center,r=n.scale,i=n.translate,a=n.clipExtent,f=null,o,c,s;n.scale=function(d){return arguments.length?(r(d),u()):r()},n.translate=function(d){return arguments.length?(i(d),u()):i()},n.center=function(d){return arguments.length?(t(d),u()):t()},n.clipExtent=function(d){return arguments.length?(d==null?f=o=c=s=null:(f=+d[0][0],o=+d[0][1],c=+d[1][0],s=+d[1][1]),u()):f==null?null:[[f,o],[c,s]]};function u(){var d=Z*r(),l=n(k0(n.rotate()).invert([0,0]));return a(f==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:e===ti?[[Math.max(l[0]-d,f),o],[Math.min(l[0]+d,c),s]]:[[f,Math.max(l[1]-d,o)],[c,Math.min(l[1]+d,s)]])}return u()}function sr(e){return za((ue+e)/2)}function ph(e,n){var t=X(e),r=e===n?H(e):Dr(t/X(n))/Dr(sr(n)/sr(e)),i=t*Ti(sr(e),r)/r;if(!r)return ti;function a(f,o){i>0?o<-ue+_&&(o=-ue+_):o>ue-_&&(o=ue-_);var c=i/Ti(sr(o),r);return[c*H(r*f),i-c*X(r*f)]}return a.invert=function(f,o){var c=i-o,s=Ne(r)*$e(f*f+c*c),u=hn(f,re(c))*Ne(c);return c*r<0&&(u-=Z*Ne(f)*Ne(c)),[u/r,2*ut(Ti(i/s,1/r))-ue]},a}function gh(){return ja(ph).scale(109.5).parallels([30,30])}function qr(e,n){return[e,n]}qr.invert=qr;function mh(){return Mn(qr).scale(152.63)}function bh(e,n){var t=X(e),r=e===n?H(e):(t-X(n))/(n-e),i=t/r+e;if(re(r)<_)return qr;function a(f,o){var c=i-o,s=r*f;return[c*H(s),i-c*X(s)]}return a.invert=function(f,o){var c=i-o,s=hn(f,re(c))*Ne(c);return c*r<0&&(s-=Z*Ne(f)*Ne(c)),[s/r,i-Ne(r)*$e(f*f+c*c)]},a}function yh(){return ja(bh).scale(131.154).center([0,13.9389])}var Et=1.340264,Dt=-.081106,Lt=893e-6,It=.003796,Wr=$e(3)/2,wh=12;function ou(e,n){var t=Ue(Wr*H(n)),r=t*t,i=r*r*r;return[e*X(t)/(Wr*(Et+3*Dt*r+i*(7*Lt+9*It*r))),t*(Et+Dt*r+i*(Lt+It*r))]}ou.invert=function(e,n){for(var t=n,r=t*t,i=r*r*r,a=0,f,o,c;a<wh&&(o=t*(Et+Dt*r+i*(Lt+It*r))-n,c=Et+3*Dt*r+i*(7*Lt+9*It*r),t-=f=o/c,r=t*t,i=r*r*r,!(re(f)<Nc));++a);return[Wr*e*(Et+3*Dt*r+i*(7*Lt+9*It*r))/X(t),Ue(H(t)/Wr)]};function vh(){return Mn(ou).scale(177.158)}function cu(e,n){var t=X(n),r=X(e)*t;return[t*H(e)/r,H(n)/r]}cu.invert=Yt(ut);function Mh(){return Mn(cu).scale(144.049).clipAngle(60)}function uu(e,n){return[X(n)*H(e),H(n)]}uu.invert=Yt(Ue);function $h(){return Mn(uu).scale(249.5).clipAngle(90+_)}function su(e,n){var t=X(n),r=1+X(e)*t;return[t*H(e)/r,H(n)/r]}su.invert=Yt(function(e){return 2*ut(e)});function xh(){return Mn(su).scale(250).clipAngle(142)}function lu(e,n){return[Dr(za((ue+n)/2)),-e]}lu.invert=function(e,n){return[-n,2*ut(Rc(e))-ue]};function Th(){var e=fu(lu),n=e.center,t=e.rotate;return e.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?t([r[0],r[1],r.length>2?r[2]+90:90]):(r=t(),[r[0],r[1],r[2]-90])},t([0,0,90]).scale(159.155)}const xa=Symbol("implicit");function _a(){var e=new Dn,n=[],t=[],r=xa;function i(a){let f=e.get(a);if(f===void 0){if(r!==xa)return r;e.set(a,f=n.push(a)-1)}return t[f%t.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],e=new Dn;for(const f of a)e.has(f)||e.set(f,n.push(f)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _a(n,t).unknown(r)},gn.apply(i,arguments),i}function ri(){var e=_a().unknown(void 0),n=e.domain,t=e.range,r=0,i=1,a,f,o=!1,c=0,s=0,u=.5;delete e.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,l-c+s*2),o&&(a=Math.floor(a)),p+=(g-p-a*(l-c))*u,f=a*(1-c),o&&(p=Math.round(p),f=Math.round(f));var b=ia(l).map(function(w){return p+a*w});return t(h?b.reverse():b)}return e.domain=function(l){return arguments.length?(n(l),d()):n()},e.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,o=!0,d()},e.bandwidth=function(){return f},e.step=function(){return a},e.round=function(l){return arguments.length?(o=!!l,d()):o},e.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),d()):c},e.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},e.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},e.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},e.copy=function(){return ri(n(),[r,i]).round(o).paddingInner(c).paddingOuter(s).align(u)},gn.apply(d(),arguments)}function du(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return du(n())},e}function Sh(){return du(ri.apply(null,arguments).paddingInner(1))}function hu(e){var n;function t(r){return r==null||isNaN(r=+r)?n:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(e=Array.from(r,Tf),t):e.slice()},t.unknown=function(r){return arguments.length?(n=r,t):n},t.copy=function(){return hu(e).unknown(n)},e=arguments.length?Array.from(e,Tf):[0,1],Vr(t)}function pu(e,n){e=e.slice();var t=0,r=e.length-1,i=e[t],a=e[r],f;return a<i&&(f=t,t=r,r=f,f=i,i=a,a=f),e[t]=n.floor(i),e[r]=n.ceil(a),e}function _f(e){return Math.log(e)}function Vf(e){return Math.exp(e)}function Ch(e){return-Math.log(-e)}function Ah(e){return-Math.exp(-e)}function Eh(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Dh(e){return e===10?Eh:e===Math.E?Math.exp:n=>Math.pow(e,n)}function Lh(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}function Xf(e){return(n,t)=>-e(-n,t)}function gu(e){const n=e(_f,Vf),t=n.domain;let r=10,i,a;function f(){return i=Lh(r),a=Dh(r),t()[0]<0?(i=Xf(i),a=Xf(a),e(Ch,Ah)):e(_f,Vf),n}return n.base=function(o){return arguments.length?(r=+o,f()):r},n.domain=function(o){return arguments.length?(t(o),f()):t()},n.ticks=o=>{const c=t();let s=c[0],u=c[c.length-1];const d=u<s;d&&([s,u]=[u,s]);let l=i(s),h=i(u),p,g;const b=o==null?10:+o;let w=[];if(!(r%1)&&h-l<b){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/a(-l):p*a(l),!(g<s)){if(g>u)break;w.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/a(-l):p*a(l),!(g<s)){if(g>u)break;w.push(g)}w.length*2<b&&(w=Ki(s,u,b))}else w=Ki(l,h,Math.min(h-l,b)).map(a);return d?w.reverse():w},n.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=r0(c)).precision==null&&(c.trim=!0),c=Gr(c)),o===1/0)return c;const s=Math.max(1,r*o/n.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=s?c(u):""}},n.nice=()=>t(pu(t(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),n}function mu(){const e=gu(Pa()).domain([1,10]);return e.copy=()=>Xr(e,mu()).base(e.base()),gn.apply(e,arguments),e}function Gf(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function Zf(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function bu(e){var n=1,t=e(Gf(n),Zf(n));return t.constant=function(r){return arguments.length?e(Gf(n=+r),Zf(n)):n},Vr(t)}function yu(){var e=bu(Pa());return e.copy=function(){return Xr(e,yu()).constant(e.constant())},gn.apply(e,arguments)}function Kf(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Ih(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nh(e){return e<0?-e*e:e*e}function wu(e){var n=e(Gn,Gn),t=1;function r(){return t===1?e(Gn,Gn):t===.5?e(Ih,Nh):e(Kf(t),Kf(1/t))}return n.exponent=function(i){return arguments.length?(t=+i,r()):t},Vr(n)}function vu(){var e=wu(Pa());return e.copy=function(){return Xr(e,vu()).exponent(e.exponent())},gn.apply(e,arguments),e}function Mu(){var e=[],n=[],t=[],r;function i(){var f=0,o=Math.max(1,n.length);for(t=new Array(o-1);++f<o;)t[f-1]=M0(e,f/o);return a}function a(f){return f==null||isNaN(f=+f)?r:n[cc(t,f)]}return a.invertExtent=function(f){var o=n.indexOf(f);return o<0?[NaN,NaN]:[o>0?t[o-1]:e[0],o<t.length?t[o]:e[e.length-1]]},a.domain=function(f){if(!arguments.length)return e.slice();e=[];for(let o of f)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ke),i()},a.range=function(f){return arguments.length?(n=Array.from(f),i()):n.slice()},a.unknown=function(f){return arguments.length?(r=f,a):r},a.quantiles=function(){return t.slice()},a.copy=function(){return Mu().domain(e).range(n).unknown(r)},gn.apply(a,arguments)}function $u(){var e=[.5],n=[0,1],t,r=1;function i(a){return a!=null&&a<=a?n[cc(e,a,0,r)]:t}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(a){return arguments.length?(n=Array.from(a),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(a){var f=n.indexOf(a);return[e[f-1],e[f]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return $u().domain(e).range(n).unknown(t)},gn.apply(i,arguments)}const Di=new Date,Li=new Date;function he(e,n,t,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),n(a,1),e(a),a),i.round=a=>{const f=i(a),o=i.ceil(a);return a-f<o-a?f:o},i.offset=(a,f)=>(n(a=new Date(+a),f==null?1:Math.floor(f)),a),i.range=(a,f,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<f)||!(o>0))return c;let s;do c.push(s=new Date(+a)),n(a,o),e(a);while(s<a&&a<f);return c},i.filter=a=>he(f=>{if(f>=f)for(;e(f),!a(f);)f.setTime(f-1)},(f,o)=>{if(f>=f)if(o<0)for(;++o<=0;)for(;n(f,-1),!a(f););else for(;--o>=0;)for(;n(f,1),!a(f););}),t&&(i.count=(a,f)=>(Di.setTime(+a),Li.setTime(+f),e(Di),e(Li),Math.floor(t(Di,Li))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?f=>r(f)%a===0:f=>i.count(0,f)%a===0):i)),i}const Br=he(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);Br.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?he(n=>{n.setTime(Math.floor(n/e)*e)},(n,t)=>{n.setTime(+n+t*e)},(n,t)=>(t-n)/e):Br);Br.range;const sn=1e3,ke=sn*60,ln=ke*60,pn=ln*24,Va=pn*7,Qf=pn*30,Ii=pn*365,We=he(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*sn)},(e,n)=>(n-e)/sn,e=>e.getUTCSeconds());We.range;const Ht=he(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sn)},(e,n)=>{e.setTime(+e+n*ke)},(e,n)=>(n-e)/ke,e=>e.getMinutes());Ht.range;const jt=he(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*ke)},(e,n)=>(n-e)/ke,e=>e.getUTCMinutes());jt.range;const _t=he(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sn-e.getMinutes()*ke)},(e,n)=>{e.setTime(+e+n*ln)},(e,n)=>(n-e)/ln,e=>e.getHours());_t.range;const Vt=he(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*ln)},(e,n)=>(n-e)/ln,e=>e.getUTCHours());Vt.range;const Un=he(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ke)/pn,e=>e.getDate()-1);Un.range;const ii=he(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/pn,e=>e.getUTCDate()-1);ii.range;const ai=he(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/pn,e=>Math.floor(e/pn));ai.range;function On(e){return he(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,t)=>{n.setDate(n.getDate()+t*7)},(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ke)/Va)}const tt=On(0),kt=On(1),xu=On(2),Tu=On(3),Nn=On(4),Su=On(5),Cu=On(6);tt.range;kt.range;xu.range;Tu.range;Nn.range;Su.range;Cu.range;function Pn(e){return he(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t*7)},(n,t)=>(t-n)/Va)}const rt=Pn(0),Ft=Pn(1),Au=Pn(2),Eu=Pn(3),Rn=Pn(4),Du=Pn(5),Lu=Pn(6);rt.range;Ft.range;Au.range;Eu.range;Rn.range;Du.range;Lu.range;const Xt=he(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xt.range;const Gt=he(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gt.range;const Ye=he(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:he(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t*e)});Ye.range;const He=he(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());He.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:he(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t*e)});He.range;function Iu(e,n,t,r,i,a){const f=[[We,1,sn],[We,5,5*sn],[We,15,15*sn],[We,30,30*sn],[a,1,ke],[a,5,5*ke],[a,15,15*ke],[a,30,30*ke],[i,1,ln],[i,3,3*ln],[i,6,6*ln],[i,12,12*ln],[r,1,pn],[r,2,2*pn],[t,1,Va],[n,1,Qf],[n,3,3*Qf],[e,1,Ii]];function o(s,u,d){const l=u<s;l&&([s,u]=[u,s]);const h=d&&typeof d.range=="function"?d:c(s,u,d),p=h?h.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,d){const l=Math.abs(u-s)/d,h=uc(([,,b])=>b).right(f,l);if(h===f.length)return e.every(Sf(s/Ii,u/Ii,d));if(h===0)return Br.every(Math.max(Sf(s,u,d),1));const[p,g]=f[l/f[h-1][2]<f[h][2]/l?h-1:h];return p.every(g)}return[o,c]}const[Rh,kh]=Iu(He,Gt,rt,ai,Vt,jt),[Fh,Uh]=Iu(Ye,Xt,tt,Un,_t,Ht);function Ni(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ri(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gt(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}function Oh(e){var n=e.dateTime,t=e.date,r=e.time,i=e.periods,a=e.days,f=e.shortDays,o=e.months,c=e.shortMonths,s=mt(i),u=bt(i),d=mt(a),l=bt(a),h=mt(f),p=bt(f),g=mt(o),b=bt(o),w=mt(c),m=bt(c),$={a:G,A:j,b:I,B:P,c:null,d:io,e:io,f:f1,g:m1,G:y1,H:r1,I:i1,j:a1,L:Nu,m:o1,M:c1,p:q,q:R,Q:oo,s:co,S:u1,u:s1,U:l1,V:d1,w:h1,W:p1,x:null,X:null,y:g1,Y:b1,Z:w1,"%":fo},y={a:B,A:te,b:Q,B:J,c:null,d:ao,e:ao,f:x1,g:R1,G:F1,H:v1,I:M1,j:$1,L:ku,m:T1,M:S1,p:F,q:ne,Q:oo,s:co,S:C1,u:A1,U:E1,V:D1,w:L1,W:I1,x:null,X:null,y:N1,Y:k1,Z:U1,"%":fo},M={a:L,A:E,b:O,B:z,c:k,d:to,e:to,f:Jh,g:no,G:eo,H:ro,I:ro,j:Gh,L:Qh,m:Xh,M:Zh,p:C,q:Vh,Q:n1,s:t1,S:Kh,u:zh,U:Yh,V:Hh,w:Bh,W:jh,x,X:N,y:no,Y:eo,Z:_h,"%":e1};$.x=v(t,$),$.X=v(r,$),$.c=v(n,$),y.x=v(t,y),y.X=v(r,y),y.c=v(n,y);function v(A,U){return function(W){var S=[],ie=-1,Y=0,fe=A.length,le,xe,jn;for(W instanceof Date||(W=new Date(+W));++ie<fe;)A.charCodeAt(ie)===37&&(S.push(A.slice(Y,ie)),(xe=Jf[le=A.charAt(++ie)])!=null?le=A.charAt(++ie):xe=le==="e"?" ":"0",(jn=U[le])&&(le=jn(W,xe)),S.push(le),Y=ie+1);return S.push(A.slice(Y,ie)),S.join("")}}function T(A,U){return function(W){var S=gt(1900,void 0,1),ie=D(S,A,W+="",0),Y,fe;if(ie!=W.length)return null;if("Q"in S)return new Date(S.Q);if("s"in S)return new Date(S.s*1e3+("L"in S?S.L:0));if(U&&!("Z"in S)&&(S.Z=0),"p"in S&&(S.H=S.H%12+S.p*12),S.m===void 0&&(S.m="q"in S?S.q:0),"V"in S){if(S.V<1||S.V>53)return null;"w"in S||(S.w=1),"Z"in S?(Y=Ri(gt(S.y,0,1)),fe=Y.getUTCDay(),Y=fe>4||fe===0?Ft.ceil(Y):Ft(Y),Y=ii.offset(Y,(S.V-1)*7),S.y=Y.getUTCFullYear(),S.m=Y.getUTCMonth(),S.d=Y.getUTCDate()+(S.w+6)%7):(Y=Ni(gt(S.y,0,1)),fe=Y.getDay(),Y=fe>4||fe===0?kt.ceil(Y):kt(Y),Y=Un.offset(Y,(S.V-1)*7),S.y=Y.getFullYear(),S.m=Y.getMonth(),S.d=Y.getDate()+(S.w+6)%7)}else("W"in S||"U"in S)&&("w"in S||(S.w="u"in S?S.u%7:"W"in S?1:0),fe="Z"in S?Ri(gt(S.y,0,1)).getUTCDay():Ni(gt(S.y,0,1)).getDay(),S.m=0,S.d="W"in S?(S.w+6)%7+S.W*7-(fe+5)%7:S.w+S.U*7-(fe+6)%7);return"Z"in S?(S.H+=S.Z/100|0,S.M+=S.Z%100,Ri(S)):Ni(S)}}function D(A,U,W,S){for(var ie=0,Y=U.length,fe=W.length,le,xe;ie<Y;){if(S>=fe)return-1;if(le=U.charCodeAt(ie++),le===37){if(le=U.charAt(ie++),xe=M[le in Jf?U.charAt(ie++):le],!xe||(S=xe(A,W,S))<0)return-1}else if(le!=W.charCodeAt(S++))return-1}return S}function C(A,U,W){var S=s.exec(U.slice(W));return S?(A.p=u.get(S[0].toLowerCase()),W+S[0].length):-1}function L(A,U,W){var S=h.exec(U.slice(W));return S?(A.w=p.get(S[0].toLowerCase()),W+S[0].length):-1}function E(A,U,W){var S=d.exec(U.slice(W));return S?(A.w=l.get(S[0].toLowerCase()),W+S[0].length):-1}function O(A,U,W){var S=w.exec(U.slice(W));return S?(A.m=m.get(S[0].toLowerCase()),W+S[0].length):-1}function z(A,U,W){var S=g.exec(U.slice(W));return S?(A.m=b.get(S[0].toLowerCase()),W+S[0].length):-1}function k(A,U,W){return D(A,n,U,W)}function x(A,U,W){return D(A,t,U,W)}function N(A,U,W){return D(A,r,U,W)}function G(A){return f[A.getDay()]}function j(A){return a[A.getDay()]}function I(A){return c[A.getMonth()]}function P(A){return o[A.getMonth()]}function q(A){return i[+(A.getHours()>=12)]}function R(A){return 1+~~(A.getMonth()/3)}function B(A){return f[A.getUTCDay()]}function te(A){return a[A.getUTCDay()]}function Q(A){return c[A.getUTCMonth()]}function J(A){return o[A.getUTCMonth()]}function F(A){return i[+(A.getUTCHours()>=12)]}function ne(A){return 1+~~(A.getUTCMonth()/3)}return{format:function(A){var U=v(A+="",$);return U.toString=function(){return A},U},parse:function(A){var U=T(A+="",!1);return U.toString=function(){return A},U},utcFormat:function(A){var U=v(A+="",y);return U.toString=function(){return A},U},utcParse:function(A){var U=T(A+="",!0);return U.toString=function(){return A},U}}}var Jf={"-":"",_:" ",0:"0"},me=/^\s*\d+/,Ph=/^%/,qh=/[\\^$*+?|[\]().{}]/g;function ee(e,n,t){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<t?new Array(t-a+1).join(n)+i:i)}function Wh(e){return e.replace(qh,"\\$&")}function mt(e){return new RegExp("^(?:"+e.map(Wh).join("|")+")","i")}function bt(e){return new Map(e.map((n,t)=>[n.toLowerCase(),t]))}function Bh(e,n,t){var r=me.exec(n.slice(t,t+1));return r?(e.w=+r[0],t+r[0].length):-1}function zh(e,n,t){var r=me.exec(n.slice(t,t+1));return r?(e.u=+r[0],t+r[0].length):-1}function Yh(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.U=+r[0],t+r[0].length):-1}function Hh(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.V=+r[0],t+r[0].length):-1}function jh(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.W=+r[0],t+r[0].length):-1}function eo(e,n,t){var r=me.exec(n.slice(t,t+4));return r?(e.y=+r[0],t+r[0].length):-1}function no(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function _h(e,n,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Vh(e,n,t){var r=me.exec(n.slice(t,t+1));return r?(e.q=r[0]*3-3,t+r[0].length):-1}function Xh(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.m=r[0]-1,t+r[0].length):-1}function to(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.d=+r[0],t+r[0].length):-1}function Gh(e,n,t){var r=me.exec(n.slice(t,t+3));return r?(e.m=0,e.d=+r[0],t+r[0].length):-1}function ro(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.H=+r[0],t+r[0].length):-1}function Zh(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.M=+r[0],t+r[0].length):-1}function Kh(e,n,t){var r=me.exec(n.slice(t,t+2));return r?(e.S=+r[0],t+r[0].length):-1}function Qh(e,n,t){var r=me.exec(n.slice(t,t+3));return r?(e.L=+r[0],t+r[0].length):-1}function Jh(e,n,t){var r=me.exec(n.slice(t,t+6));return r?(e.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function e1(e,n,t){var r=Ph.exec(n.slice(t,t+1));return r?t+r[0].length:-1}function n1(e,n,t){var r=me.exec(n.slice(t));return r?(e.Q=+r[0],t+r[0].length):-1}function t1(e,n,t){var r=me.exec(n.slice(t));return r?(e.s=+r[0],t+r[0].length):-1}function io(e,n){return ee(e.getDate(),n,2)}function r1(e,n){return ee(e.getHours(),n,2)}function i1(e,n){return ee(e.getHours()%12||12,n,2)}function a1(e,n){return ee(1+Un.count(Ye(e),e),n,3)}function Nu(e,n){return ee(e.getMilliseconds(),n,3)}function f1(e,n){return Nu(e,n)+"000"}function o1(e,n){return ee(e.getMonth()+1,n,2)}function c1(e,n){return ee(e.getMinutes(),n,2)}function u1(e,n){return ee(e.getSeconds(),n,2)}function s1(e){var n=e.getDay();return n===0?7:n}function l1(e,n){return ee(tt.count(Ye(e)-1,e),n,2)}function Ru(e){var n=e.getDay();return n>=4||n===0?Nn(e):Nn.ceil(e)}function d1(e,n){return e=Ru(e),ee(Nn.count(Ye(e),e)+(Ye(e).getDay()===4),n,2)}function h1(e){return e.getDay()}function p1(e,n){return ee(kt.count(Ye(e)-1,e),n,2)}function g1(e,n){return ee(e.getFullYear()%100,n,2)}function m1(e,n){return e=Ru(e),ee(e.getFullYear()%100,n,2)}function b1(e,n){return ee(e.getFullYear()%1e4,n,4)}function y1(e,n){var t=e.getDay();return e=t>=4||t===0?Nn(e):Nn.ceil(e),ee(e.getFullYear()%1e4,n,4)}function w1(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ee(n/60|0,"0",2)+ee(n%60,"0",2)}function ao(e,n){return ee(e.getUTCDate(),n,2)}function v1(e,n){return ee(e.getUTCHours(),n,2)}function M1(e,n){return ee(e.getUTCHours()%12||12,n,2)}function $1(e,n){return ee(1+ii.count(He(e),e),n,3)}function ku(e,n){return ee(e.getUTCMilliseconds(),n,3)}function x1(e,n){return ku(e,n)+"000"}function T1(e,n){return ee(e.getUTCMonth()+1,n,2)}function S1(e,n){return ee(e.getUTCMinutes(),n,2)}function C1(e,n){return ee(e.getUTCSeconds(),n,2)}function A1(e){var n=e.getUTCDay();return n===0?7:n}function E1(e,n){return ee(rt.count(He(e)-1,e),n,2)}function Fu(e){var n=e.getUTCDay();return n>=4||n===0?Rn(e):Rn.ceil(e)}function D1(e,n){return e=Fu(e),ee(Rn.count(He(e),e)+(He(e).getUTCDay()===4),n,2)}function L1(e){return e.getUTCDay()}function I1(e,n){return ee(Ft.count(He(e)-1,e),n,2)}function N1(e,n){return ee(e.getUTCFullYear()%100,n,2)}function R1(e,n){return e=Fu(e),ee(e.getUTCFullYear()%100,n,2)}function k1(e,n){return ee(e.getUTCFullYear()%1e4,n,4)}function F1(e,n){var t=e.getUTCDay();return e=t>=4||t===0?Rn(e):Rn.ceil(e),ee(e.getUTCFullYear()%1e4,n,4)}function U1(){return"+0000"}function fo(){return"%"}function oo(e){return+e}function co(e){return Math.floor(+e/1e3)}var _n,Xa,Zt;O1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O1(e){return _n=Oh(e),Xa=_n.format,_n.parse,Zt=_n.utcFormat,_n.utcParse,_n}function P1(e){return new Date(e)}function q1(e){return e instanceof Date?+e:+new Date(+e)}function Ga(e,n,t,r,i,a,f,o,c,s){var u=i0(),d=u.invert,l=u.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),b=s("%I %p"),w=s("%a %d"),m=s("%b %d"),$=s("%B"),y=s("%Y");function M(v){return(c(v)<v?h:o(v)<v?p:f(v)<v?g:a(v)<v?b:r(v)<v?i(v)<v?w:m:t(v)<v?$:y)(v)}return u.invert=function(v){return new Date(d(v))},u.domain=function(v){return arguments.length?l(Array.from(v,q1)):l().map(P1)},u.ticks=function(v){var T=l();return e(T[0],T[T.length-1],v??10)},u.tickFormat=function(v,T){return T==null?M:s(T)},u.nice=function(v){var T=l();return(!v||typeof v.range!="function")&&(v=n(T[0],T[T.length-1],v??10)),v?l(pu(T,v)):u},u.copy=function(){return Xr(u,Ga(e,n,t,r,i,a,f,o,c,s))},u}function W1(){return gn.apply(Ga(Fh,Uh,Ye,Xt,tt,Un,_t,Ht,We,Xa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B1(){return gn.apply(Ga(Rh,kh,He,Gt,rt,ii,Vt,jt,We,Zt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fi(e,n){return n.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oi(){var e=0,n=.5,t=1,r=1,i,a,f,o,c,s=Gn,u,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-a)*(r*g<r*a?o:c),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,n,t]=g,i=u(e=+e),a=u(n=+n),f=u(t=+t),o=i===a?0:.5/(a-i),c=a===f?0:.5/(f-a),r=a<i?-1:1,h):[e,n,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(b){var w,m,$;return arguments.length?([w,m,$]=b,s=ei(g,[w,m,$]),h):[s(0),s(.5),s(1)]}}return h.range=p(oc),h.rangeRound=p(sc),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return u=g,i=g(e),a=g(n),f=g(t),o=i===a?0:.5/(a-i),c=a===f?0:.5/(f-a),r=a<i?-1:1,h}}function Uu(){var e=Vr(oi()(Gn));return e.copy=function(){return fi(e,Uu())},Zr.apply(e,arguments)}function Ou(){var e=gu(oi()).domain([.1,1,10]);return e.copy=function(){return fi(e,Ou()).base(e.base())},Zr.apply(e,arguments)}function Pu(){var e=bu(oi());return e.copy=function(){return fi(e,Pu()).constant(e.constant())},Zr.apply(e,arguments)}function qu(){var e=wu(oi());return e.copy=function(){return fi(e,qu()).exponent(e.exponent())},Zr.apply(e,arguments)}function V(e){for(var n=e.length/6|0,t=new Array(n),r=0;r<n;)t[r]="#"+e.slice(r*6,++r*6);return t}const z1=V("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Y1=V("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),H1=V("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),j1=V("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_1=V("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),V1=V("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),X1=V("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),G1=V("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Z1=V("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),K1=V("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ae=e=>e0(e[e.length-1]);var Wu=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(V);const Bu=ae(Wu);var zu=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(V);const Yu=ae(zu);var Hu=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(V);const ju=ae(Hu);var _u=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(V);const Vu=ae(_u);var Ta=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(V);const zr=ae(Ta);var Xu=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(V);const Gu=ae(Xu);var Sa=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(V);const Yr=ae(Sa);var Zu=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(V);const Ku=ae(Zu);var Qu=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(V);const Ju=ae(Qu);var es=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(V);const ns=ae(es);var ts=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(V);const rs=ae(ts);var is=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(V);const as=ae(is);var fs=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(V);const os=ae(fs);var cs=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(V);const us=ae(cs);var ss=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(V);const ls=ae(ss);var ds=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(V);const hs=ae(ds);var ps=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(V);const gs=ae(ps);var ms=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(V);const bs=ae(ms);var ys=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(V);const ws=ae(ys);var vs=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(V);const Ms=ae(vs);var $s=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(V);const xs=ae($s);var Ts=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(V);const Ss=ae(Ts);var Cs=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(V);const As=ae(Cs);var Es=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(V);const Ds=ae(Es);var Ls=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(V);const Is=ae(Ls);var Ns=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(V);const Rs=ae(Ns);var ks=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(V);const Fs=ae(ks);function Us(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Os=c0(Cf(300,.5,0),Cf(-240,.5,1));var lr=$r(),Q1=Math.PI/3,J1=Math.PI*2/3;function Ps(e){var n;return e=(.5-e)*Math.PI,lr.r=255*(n=Math.sin(e))*n,lr.g=255*(n=Math.sin(e+Q1))*n,lr.b=255*(n=Math.sin(e+J1))*n,lr+""}function qs(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function ci(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}const Ws=ci(V("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Bs=ci(V("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),zs=ci(V("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ys=ci(V("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const ep=de(3),Hs={draw(e,n){const t=de(n+qa(n/28,.75))*.59436,r=t/2,i=r*ep;e.moveTo(0,t),e.lineTo(0,-t),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Za={draw(e,n){const t=de(n/Qi);e.moveTo(t,0),e.arc(0,0,t,0,Qr)}},js={draw(e,n){const t=de(n/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},_s=de(1/3),np=_s*2,Vs={draw(e,n){const t=de(n/np),r=t*_s;e.moveTo(0,-t),e.lineTo(r,0),e.lineTo(0,t),e.lineTo(-r,0),e.closePath()}},Xs={draw(e,n){const t=de(n)*.62625;e.moveTo(0,-t),e.lineTo(t,0),e.lineTo(0,t),e.lineTo(-t,0),e.closePath()}},Gs={draw(e,n){const t=de(n-qa(n/7,2))*.87559;e.moveTo(-t,0),e.lineTo(t,0),e.moveTo(0,t),e.lineTo(0,-t)}},Zs={draw(e,n){const t=de(n),r=-t/2;e.rect(r,r,t,t)}},Ks={draw(e,n){const t=de(n)*.4431;e.moveTo(t,t),e.lineTo(t,-t),e.lineTo(-t,-t),e.lineTo(-t,t),e.closePath()}},tp=.8908130915292852,Qs=Tr(Qi/10)/Tr(7*Qi/10),rp=Tr(Qr/10)*Qs,ip=-dc(Qr/10)*Qs,Js={draw(e,n){const t=de(n*tp),r=rp*t,i=ip*t;e.moveTo(0,-t),e.lineTo(r,i);for(let a=1;a<5;++a){const f=Qr*a/5,o=dc(f),c=Tr(f);e.lineTo(c*t,-o*t),e.lineTo(o*r-c*i,c*r+o*i)}e.closePath()}},ki=de(3),el={draw(e,n){const t=-de(n/(ki*3));e.moveTo(0,t*2),e.lineTo(-ki*t,-t),e.lineTo(ki*t,-t),e.closePath()}},ap=de(3),nl={draw(e,n){const t=de(n)*.6824,r=t/2,i=t*ap/2;e.moveTo(0,-t),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},De=-.5,Le=de(3)/2,Ca=1/de(12),fp=(Ca/2+1)*3,tl={draw(e,n){const t=de(n/fp),r=t/2,i=t*Ca,a=r,f=t*Ca+t,o=-a,c=f;e.moveTo(r,i),e.lineTo(a,f),e.lineTo(o,c),e.lineTo(De*r-Le*i,Le*r+De*i),e.lineTo(De*a-Le*f,Le*a+De*f),e.lineTo(De*o-Le*c,Le*o+De*c),e.lineTo(De*r+Le*i,De*i-Le*r),e.lineTo(De*a+Le*f,De*f-Le*a),e.lineTo(De*o+Le*c,De*c-Le*o),e.closePath()}},rl={draw(e,n){const t=de(n-qa(n/6,1.7))*.6189;e.moveTo(-t,-t),e.lineTo(t,t),e.moveTo(-t,t),e.lineTo(t,-t)}},op=[Za,js,Vs,Zs,Js,el,tl],cp=[Za,Gs,rl,nl,Hs,Ks,Xs];function kn(e){return e!=null&&!Number.isNaN(e)}function Je(e,n){return+kn(n)-+kn(e)||Ke(e,n)}function Hr(e,n){return+kn(n)-+kn(e)||Kr(e,n)}function il(e){return e!=null&&`${e}`!=""}function al(e){return isFinite(e)?e:NaN}function Ka(e){return e>0&&isFinite(e)?e:NaN}function fl(e){return e<0&&isFinite(e)?e:NaN}function up(e,n){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof n=="function"?n(e):n;const t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${sp(e.getUTCFullYear())}-${on(e.getUTCMonth()+1,2)}-${on(e.getUTCDate(),2)}${t||r||i||a?`T${on(t,2)}:${on(r,2)}${i||a?`:${on(i,2)}${a?`.${on(a,3)}`:""}`:""}Z`:""}`}function sp(e){return e<0?`-${on(-e,6)}`:e>9999?`+${on(e,6)}`:on(e,4)}function on(e,n){return`${e}`.padStart(n,"0")}const lp=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ol(e,n){return lp.test(e+="")?new Date(e):typeof n=="function"?n(e):n}const Kn=1e3,yn=Kn*60,wn=yn*60,en=wn*24,_e=en*7,Cn=en*30,bn=en*365,Fi=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Kn],["5 seconds",5*Kn],["15 seconds",15*Kn],["30 seconds",30*Kn],["minute",yn],["5 minutes",5*yn],["15 minutes",15*yn],["30 minutes",30*yn],["hour",wn],["3 hours",3*wn],["6 hours",6*wn],["12 hours",12*wn],["day",en],["2 days",2*en],["week",_e],["2 weeks",2*_e],["month",Cn],["3 months",3*Cn],["6 months",6*Cn],["year",bn],["2 years",2*bn],["5 years",5*bn],["10 years",10*bn],["20 years",20*bn],["50 years",50*bn],["100 years",100*bn]],Qa=new Map([["second",Kn],["minute",yn],["hour",wn],["day",en],["monday",_e],["tuesday",_e],["wednesday",_e],["thursday",_e],["friday",_e],["saturday",_e],["sunday",_e],["week",_e],["month",Cn],["year",bn]]),cl=new Map([["second",We],["minute",Ht],["hour",_t],["day",Un],["monday",kt],["tuesday",xu],["wednesday",Tu],["thursday",Nn],["friday",Su],["saturday",Cu],["sunday",tt],["week",tt],["month",Xt],["year",Ye]]),Ja=new Map([["second",We],["minute",jt],["hour",Vt],["day",ai],["monday",Ft],["tuesday",Au],["wednesday",Eu],["thursday",Rn],["friday",Du],["saturday",Lu],["sunday",rt],["week",rt],["month",Gt],["year",He]]),Kt=Symbol("intervalDuration"),ui=Symbol("intervalType");for(const[e,n]of cl)n[Kt]=Qa.get(e),n[ui]="time";for(const[e,n]of Ja)n[Kt]=Qa.get(e),n[ui]="utc";const St=[["year",He,"utc"],["month",Gt,"utc"],["day",ai,"utc",6*Cn],["hour",Vt,"utc",3*en],["minute",jt,"utc",6*wn],["second",We,"utc",30*yn]],vr=[["year",Ye,"time"],["month",Xt,"time"],["day",Un,"time",6*Cn],["hour",_t,"time",3*en],["minute",Ht,"time",6*wn],["second",We,"time",30*yn]],dp=[St[0],vr[0],St[1],vr[1],St[2],vr[2],...St.slice(3)];function ul(e){let n=`${e}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let t=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),t=+r[1]),n){case"quarter":n="month",t*=3;break;case"half":n="month",t*=6;break}let i=Ja.get(n);if(!i)throw new Error(`unknown interval: ${e}`);if(t>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,t]}function sl(e){return dl(ul(e),"time")}function ll(e){return dl(ul(e),"utc")}function dl([e,n],t){let r=(t==="time"?cl:Ja).get(e);return n>1&&(r=r.every(n),r[Kt]=Qa.get(e)*n,r[ui]=t),r}function uo(e,n){if(!(n>1))return;const t=e[Kt];if(!Fi.some(([,i])=>i===t)||t%en===0&&en<t&&t<Cn)return;const[r]=Fi[uc(([,i])=>Math.log(i)).center(Fi,Math.log(t*n))];return(e[ui]==="time"?sl:ll)(r)}function so(e,n,t){const r=n==="time"?Xa:Zt;if(t==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=hp(t);switch(e){case"millisecond":return Vn(r(".%L"),r(":%M:%S"),i);case"second":return Vn(r(":%S"),r("%-I:%M"),i);case"minute":return Vn(r("%-I:%M"),r("%p"),i);case"hour":return Vn(r("%-I %p"),r("%b %-d"),i);case"day":return Vn(r("%-d"),r("%b"),i);case"month":return Vn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function hp(e){return e==="left"||e==="right"?(n,t)=>`
${n}
${t}`:e==="top"?(n,t)=>`${t}
${n}`:(n,t)=>`${n}
${t}`}function pp(e){return e==="time"?vr:e==="utc"?St:dp}function gp(e,n,t){const r=Be(S0(n,(i,a)=>Math.abs(a-i)));if(r<1e3)return so("millisecond","utc",t);for(const[i,a,f,o]of pp(e)){if(r>o||i==="hour"&&!r)break;if(n.every(c=>a.floor(c)>=c))return so(i,f,t)}}function Vn(e,n,t){return(r,i,a)=>{const f=e(r,i),o=n(r,i),c=i-at(a);return i!==c&&a[c]!==void 0&&o===n(a[c],c)?f:t(f,o)}}const Ut=Object.getPrototypeOf(Uint8Array),mp=Object.prototype.toString,hl=Symbol("reindex");function Fe(e,n,t){const r=typeof n;return r==="string"?lo(e,pl(n),t):r==="function"?lo(e,n,t):r==="number"||n instanceof Date||r==="boolean"?ge(e,Qt(n),t):typeof n?.transform=="function"?ho(n.transform(e),t):bp(ho(n,t),e?.[hl])}function bp(e,n){return n?tf(e,n):e}function lo(e,n,t){return ge(e,t?.prototype instanceof Ut?yp(n):n,t)}function ho(e,n){return n===void 0?Ae(e):e instanceof n?e:n.prototype instanceof Ut&&!(e instanceof Ut)?n.from(e,ef):n.from(e)}function yp(e){return(n,t)=>ef(e(n,t))}const Mr=[null],pl=e=>n=>n[e],gl={transform:$n},Pe={transform:e=>e},wp=()=>1,vp=()=>!0,we=e=>e==null?e:`${e}`,ce=e=>e==null?e:+e,ml=e=>e?e[0]:void 0,Mp=e=>e?e[1]:void 0,Qt=e=>()=>e;function $p(e){const n=+`${e}`.slice(1)/100;return(t,r)=>Cr(t,n,r)}function po(e){return e instanceof Ut?e:ge(e,ef,Float64Array)}function ef(e){return e==null?NaN:Number(e)}function xp(e){return ge(e,Tp)}function Tp(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?ol(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Fn(e,n){return e===void 0&&(e=n),e===null?[void 0,"none"]:li(e)?[void 0,e]:[e,void 0]}function Te(e,n){return e===void 0&&(e=n),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function bl(e,n,t){if(e!=null)return je(e,n,t)}function je(e,n,t){const r=`${e}`.toLowerCase();if(!t.includes(r))throw new Error(`invalid ${n}: ${e}`);return r}function Ae(e){return e==null||e instanceof Array||e instanceof Ut?e:Array.from(e)}function ge(e,n,t=Array){return e==null?e:e instanceof t?e.map(n):t.from(e,n)}function Ot(e,n=Array){return e instanceof n?e.slice():n.from(e)}function yl({x:e,x1:n,x2:t}){return e!==void 0||n!==void 0||t!==void 0}function Sp({y:e,y1:n,y2:t}){return e!==void 0||n!==void 0||t!==void 0}function Cp(e){return yl(e)||Sp(e)||e.interval!==void 0}function qn(e){return e?.toString===mp}function Aa(e){return qn(e)&&(e.type!==void 0||e.domain!==void 0)}function nf(e){return qn(e)&&typeof e.transform!="function"}function Pt(e){return nf(e)&&e.value===void 0&&e.channel===void 0}function Ap(e,n,t,r=Pe){return n===void 0&&t===void 0?(n=0,t=e===void 0?r:e):n===void 0?n=e===void 0?0:e:t===void 0&&(t=e===void 0?0:e),[n,t]}function wl(e,n){return e===void 0&&n===void 0?[ml,Mp]:[e,n]}function Ep({z:e,fill:n,stroke:t}={}){return e===void 0&&([e]=Fn(n)),e===void 0&&([e]=Fn(t)),e}function $n(e){const n=e.length,t=new Uint32Array(n);for(let r=0;r<n;++r)t[r]=r;return t}function tf(e,n){return ge(n,t=>e[t],e.constructor)}function Dp(e,n,t){return e.subarray?e.subarray(n,t):e.slice(n,t)}function dr(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ea(e){let n;return[{transform:()=>n,label:Jt(e)},t=>n=t]}function Lp(e){return e==null?[e]:Ea(e)}function Jt(e,n){return typeof e=="string"?e:e&&e.label!==void 0?e.label:n}function Ip(e,n){return{transform(t){const r=e.transform(t),i=n.transform(t);return Oe(r)||Oe(i)?ge(r,(a,f)=>new Date((+r[f]+ +i[f])/2)):ge(r,(a,f)=>(+r[f]+ +i[f])/2,Float64Array)},label:e.label}}function Np(e,n){const t=vl(n?.interval,n?.type);return t?ge(e,t):e}function vl(e,n){const t=rf(e,n);return t&&(r=>kn(r)?t.floor(r):r)}function rf(e,n){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:r=>Math.floor(r*t)/t,offset:r=>(r*t+1)/t,range:(r,i)=>ia(Math.ceil(r*t),i*t).map(a=>a/t)}:{floor:r=>Math.floor(r/t)*t,offset:r=>r+t,range:(r,i)=>ia(Math.ceil(r/t),i/t).map(a=>a*t)}}if(typeof e=="string")return(n==="time"?sl:ll)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function er(e,n){if(e=rf(e,n),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Rp(e,n){if(e=er(e,n),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function kp(e){return typeof e?.range=="function"}function si(e){return e===void 0||nf(e)?e:{value:e}}function Fp(e){return e==null?null:{transform:n=>Fe(n,e,Float64Array),label:Jt(e)}}function Wn(e){return e&&typeof e[Symbol.iterator]=="function"}function Ml(e){for(const n of e)if(n!=null)return typeof n!="object"||n instanceof Date}function go(e){for(const n of e){if(n==null)continue;const t=typeof n;return t==="string"||t==="boolean"}}function Oe(e){for(const n of e)if(n!=null)return n instanceof Date}function Up(e){for(const n of e)if(n!=null)return typeof n=="string"&&isNaN(n)&&ol(n)}function Op(e){for(const n of e)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function Pp(e){for(const n of e)if(n!=null)return typeof n=="number"}function Ui(e,n){let t;for(const r of e)if(r!=null){if(!n(r))return!1;t=!0}return t}const qp=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function li(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||qp.has(e))}function Wp(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Me(e){return e==null||qt(e)}function qt(e){return/^\s*none\s*$/i.test(e)}function Bp(e){return/^\s*round\s*$/i.test(e)}function Da(e,n){return bl(e,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function af(e="middle"){return Da(e,"frameAnchor")}function at(e){if(e==null)return;const n=e[0],t=e[e.length-1];return Kr(n,t)}function zp(e={},...n){let t=e;for(const r of n)for(const i in r)if(t[i]===void 0){const a=r[i];t===e?t={...t,[i]:a}:t[i]=a}return t}function Yp(e){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(e,t=>{const{name:r}=t;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,t]}))}function $l(e){return Wn(e)?Yp(e):e}const Ze=Symbol("position"),mn=Symbol("color"),nr=Symbol("radius"),tr=Symbol("length"),rr=Symbol("opacity"),di=Symbol("symbol"),xl=Symbol("projection"),se=new Map([["x",Ze],["y",Ze],["fx",Ze],["fy",Ze],["r",nr],["color",mn],["opacity",rr],["symbol",di],["length",tr],["projection",xl]]);function Hp(e){return e===Ze||e===xl}function jp(e){return e===Ze||e===nr||e===tr||e===rr}const _p=Math.sqrt(3),Vp=2/_p,Xp={draw(e,n){const t=Math.sqrt(n/Math.PI),r=t*Vp,i=r/2;e.moveTo(0,r),e.lineTo(t,i),e.lineTo(t,-i),e.lineTo(0,-r),e.lineTo(-t,-i),e.lineTo(-t,i),e.closePath()}},Tl=new Map([["asterisk",Hs],["circle",Za],["cross",js],["diamond",Vs],["diamond2",Xs],["hexagon",Xp],["plus",Gs],["square",Zs],["square2",Ks],["star",Js],["times",rl],["triangle",el],["triangle2",nl],["wye",tl]]);function Sl(e){return e&&typeof e.draw=="function"}function Gp(e){return Sl(e)?!0:typeof e!="string"?!1:Tl.has(e.toLowerCase())}function ff(e){if(e==null||Sl(e))return e;const n=Tl.get(`${e}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${e}`)}function Cl({filter:e,sort:n,reverse:t,transform:r,initializer:i,...a}={},f){if(r===void 0&&(e!=null&&(r=Al(e)),n!=null&&!Pt(n)&&(r=Oi(r,Dl(n))),t&&(r=Oi(r,El))),f!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(n===null||Pt(n))&&{sort:n},transform:Oi(r,f)}}function jr({filter:e,sort:n,reverse:t,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=Al(e)),n!=null&&!Pt(n)&&(r=Pi(r,Dl(n))),t&&(r=Pi(r,El))),{...i,...(n===null||Pt(n))&&{sort:n},initializer:Pi(r,a)}}function Oi(e,n){return e==null?n===null?void 0:n:n==null?e===null?void 0:e:function(t,r,i){return{data:t,facets:r}=e.call(this,t,r,i),n.call(this,Ae(t),r,i)}}function Pi(e,n){return e==null?n===null?void 0:n:n==null?e===null?void 0:e:function(t,r,i,...a){let f,o,c,s,u,d;return{data:o=t,facets:c=r,channels:f}=e.call(this,t,r,i,...a),{data:u=o,facets:d=c,channels:s}=n.call(this,o,c,{...i,...f},...a),{data:u,facets:d,channels:{...f,...s}}}}function Al(e){return(n,t)=>{const r=Fe(n,e);return{data:n,facets:t.map(i=>i.filter(a=>r[a]))}}}function El(e,n){return{data:e,facets:n.map(t=>t.slice().reverse())}}function Dl(e){return(typeof e=="function"&&e.length!==1?Zp:Kp)(e)}function Zp(e){return(n,t)=>{const r=(i,a)=>e(n[i],n[a]);return{data:n,facets:t.map(i=>i.slice().sort(r))}}}function Kp(e){let n,t;({channel:n,value:e,order:t}={...si(e)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),t===void 0&&(t=r?Hr:Je),typeof t!="function")switch(`${t}`.toLowerCase()){case"ascending":t=Je;break;case"descending":t=Hr;break;default:throw new Error(`invalid order: ${t}`)}return(i,a,f)=>{let o;if(n===void 0)o=Fe(i,e);else{if(f===void 0)throw new Error("channel sort requires an initializer");if(o=f[n],!o)return{};o=o.value}const c=(s,u)=>t(o[s],o[u]);return{data:i,facets:a.map(s=>s.slice().sort(c))}}}function Qp(e,n,t=Jp){if(e==null)return t(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&qn(e))return eg(e);if(typeof e=="function")return ng(e);if(/^p\d{2}$/i.test(e))return fn($p(e));switch(`${e}`.toLowerCase()){case"first":return rg;case"last":return ig;case"identity":return tg;case"count":return bo;case"distinct":return ag;case"sum":return n==null?bo:fg;case"proportion":return yo(n,"data");case"proportion-facet":return yo(n,"facet");case"deviation":return fn(m0);case"min":return fn(dn);case"min-index":return fn(v0);case"max":return fn(Be);case"max-index":return fn(w0);case"mean":return mo($0);case"median":return mo(ra);case"variance":return fn(mc);case"mode":return fn(T0)}return t(e)}function Jp(e){throw new Error(`invalid reduce: ${e}`)}function eg(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function ng(e){return{reduceIndex(n,t,r){return e(tf(t,n),r)}}}function fn(e){return{reduceIndex(n,t){return e(n,r=>t[r])}}}function mo(e){return{reduceIndex(n,t){const r=e(n,i=>t[i]);return Oe(t)?new Date(r):r}}}const tg={reduceIndex(e,n){return tf(n,e)}},rg={reduceIndex(e,n){return n[e[0]]}},ig={reduceIndex(e,n){return n[e[e.length-1]]}},bo={label:"Frequency",reduceIndex(e){return e.length}},ag={label:"Distinct",reduceIndex(e,n){const t=new Jr;for(const r of e)t.add(n[r]);return t.size}},fg=fn(Ln);function yo(e,n){return e==null?{scope:n,label:"Frequency",reduceIndex:(t,r,i=1)=>t.length/i}:{scope:n,reduceIndex:(t,r,i=1)=>Ln(t,a=>r[a])/i}}function Wt(e,{scale:n,type:t,value:r,filter:i,hint:a,label:f=Jt(r)},o){return a===void 0&&typeof r?.transform=="function"&&(a=r.hint),Ll(o,{scale:n,type:t,value:Fe(e,r),label:f,filter:i,hint:a})}function og(e,n){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,Wt(n,r,t)]))}function cg(e,n){const t=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const f=i==null?null:n[i];return[r,f==null?a:ge(a,f)]}));return t.channels=e,t}function Ll(e,n){const{scale:t,value:r}=n;if(t===!0||t==="auto")switch(e){case"fill":case"stroke":case"color":n.scale=t!==!0&&Ui(r,li)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=t!==!0&&Ui(r,Wp)?null:"opacity";break;case"symbol":t!==!0&&Ui(r,Gp)?(n.scale=null,n.value=ge(r,ff)):n.scale="symbol";break;default:n.scale=se.has(e)?e:null;break}else if(t===!1)n.scale=null;else if(t!=null&&!se.has(t))throw new Error(`unknown scale: ${t}`);return n}function ug(e,n,t,r,i){const{order:a,reverse:f,reduce:o=!0,limit:c}=i;for(const s in i){if(!se.has(s))continue;let{value:u,order:d=a,reverse:l=f,reduce:h=o,limit:p=c}=si(i[s]);const g=u?.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?Nl:Il:dg(d),h==null||h===!1)continue;const b=s==="fx"||s==="fy"?lg(n,r[s]):sg(t,s);if(!b)throw new Error(`missing channel for scale: ${s}`);const w=b.value,[m=0,$=1/0]=Wn(p)?p:p<0?[p]:[0,p];if(u==null)b.domain=()=>{let y=Array.from(new Jr(w));return l&&(y=y.reverse()),(m!==0||$!==1/0)&&(y=y.slice(m,$)),y};else{const y=u==="data"?e:u==="height"?wo(t,"y1","y2"):u==="width"?wo(t,"x1","x2"):La(t,u,u==="y"?"y2":u==="x"?"x2":void 0),M=Qp(h===!0?"max":h,y);b.domain=()=>{let v=b0($n(w),T=>M.reduceIndex(T,y),T=>w[T]);return d&&v.sort(d),l&&v.reverse(),(m!==0||$!==1/0)&&(v=v.slice(m,$)),v.map(ml)}}}}function sg(e,n){for(const t in e){const r=e[t];if(r.scale===n)return r}}function lg(e,n){const t=e.original;if(t===e)return n;const r=n.value,i=n.value=[];for(let a=0;a<t.length;++a){const f=r[t[a][0]];for(const o of e[a])i[o]=f}return n}function wo(e,n,t){const r=La(e,n),i=La(e,t);return ge(i,(a,f)=>Math.abs(a-r[f]),Float64Array)}function La(e,n,t){let r=e[n];if(!r&&t!==void 0&&(r=e[t]),r)return r.value;throw new Error(`missing channel: ${n}`)}function dg(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Il;case"descending":return Nl}throw new Error(`invalid order: ${e}`)}function Il([e,n],[t,r]){return Je(n,r)||Je(e,t)}function Nl([e,n],[t,r]){return Hr(n,r)||Je(e,t)}function vo(e,n){let t=e[n];if(t){for(;t.source;)t=t.source;return t.source===null?null:t}}function hg(e){let n,t;return(...r)=>((t?.length!==r.length||t.some((i,a)=>i!==r[a]))&&(t=r,n=e(...r)),n)}const pg=hg(e=>new Intl.NumberFormat(e));function gg(e="en-US"){const n=pg(e);return t=>t!=null&&!isNaN(t)?n.format(t):void 0}function mg(e){return up(e,"Invalid Date")}function bg(e="en-US"){const n=gg(e);return t=>(t instanceof Date?mg:typeof t=="number"?n:we)(t)}const ft=bg();let Ia=0,Na;function yg(){const e=Ia;return Ia=0,Na=void 0,e}function An(e){e!==Na&&(Na=e,console.warn(e),++Ia)}const Se=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let wg=0;function Mo(){return`plot-clip-${++wg}`}function vg(e,{title:n,href:t,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:f,fill:o,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:b,opacity:w,mixBlendMode:m,imageFilter:$,paintOrder:y,pointerEvents:M,shapeRendering:v,channels:T},{ariaLabel:D,fill:C="currentColor",fillOpacity:L,stroke:E="none",strokeOpacity:O,strokeWidth:z,strokeLinecap:k,strokeLinejoin:x,strokeMiterlimit:N,paintOrder:G}){C===null&&(o=null,c=null),E===null&&(s=null,d=null),Me(C)?!Me(E)&&(!Me(o)||T?.fill)&&(E="none"):Me(E)&&(!Me(s)||T?.stroke)&&(C="none");const[j,I]=Fn(o,C),[P,q]=Te(c,L),[R,B]=Fn(s,E),[te,Q]=Te(d,O),[J,F]=Te(w);qt(B)||(u===void 0&&(u=z),h===void 0&&(h=k),l===void 0&&(l=x),p===void 0&&!Bp(l)&&(p=N),!qt(I)&&y===void 0&&(y=G));const[ne,A]=Te(u);return C!==null&&(e.fill=be(I,"currentColor"),e.fillOpacity=yt(q,1)),E!==null&&(e.stroke=be(B,"none"),e.strokeWidth=yt(A,1),e.strokeOpacity=yt(Q,1),e.strokeLinejoin=be(l,"miter"),e.strokeLinecap=be(h,"butt"),e.strokeMiterlimit=yt(p,4),e.strokeDasharray=be(g,"none"),e.strokeDashoffset=be(b,"0")),e.target=we(f),e.ariaLabel=we(D),e.ariaDescription=we(i),e.ariaHidden=we(a),e.opacity=yt(F,1),e.mixBlendMode=be(m,"normal"),e.imageFilter=be($,"none"),e.paintOrder=be(y,"normal"),e.pointerEvents=be(M,"auto"),e.shapeRendering=be(v,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:t,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:j,scale:"auto",optional:!0},fillOpacity:{value:P,scale:"auto",optional:!0},stroke:{value:R,scale:"auto",optional:!0},strokeOpacity:{value:te,scale:"auto",optional:!0},strokeWidth:{value:ne,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function Mg(e,n){n&&e.filter(t=>il(n[t])).append("title").call($g,n)}function $g(e,n){n&&e.text(t=>ft(n[t]))}function st(e,{target:n,tip:t},{ariaLabel:r,title:i,fill:a,fillOpacity:f,stroke:o,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&K(e,"aria-label",l=>r[l]),a&&K(e,"fill",l=>a[l]),f&&K(e,"fill-opacity",l=>f[l]),o&&K(e,"stroke",l=>o[l]),c&&K(e,"stroke-opacity",l=>c[l]),s&&K(e,"stroke-width",l=>s[l]),u&&K(e,"opacity",l=>u[l]),d&&Tg(e,l=>d[l],n),t||Mg(e,i)}function Rl(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=je(e,"clip",["frame","sphere"])),e}function xg(e,n,t,r){let i;const{clip:a=r.clip}=n;switch(a){case"frame":{const{width:f,height:o,marginLeft:c,marginRight:s,marginTop:u,marginBottom:d}=t,l=Mo();i=`url(#${l})`,e=ve("svg:g",r).call(h=>h.append("svg:clipPath").attr("id",l).append("rect").attr("x",c).attr("y",u).attr("width",f-s-c).attr("height",o-u-d)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:f}=r;if(!f)throw new Error('the "sphere" clip option requires a projection');const o=Mo();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",Kc(f)({type:"Sphere"}));break}}K(e,"aria-label",n.ariaLabel),K(e,"aria-description",n.ariaDescription),K(e,"aria-hidden",n.ariaHidden),K(e,"clip-path",i)}function Bn(e,n,t,r){xg(e,n,t,r),K(e,"fill",n.fill),K(e,"fill-opacity",n.fillOpacity),K(e,"stroke",n.stroke),K(e,"stroke-width",n.strokeWidth),K(e,"stroke-opacity",n.strokeOpacity),K(e,"stroke-linejoin",n.strokeLinejoin),K(e,"stroke-linecap",n.strokeLinecap),K(e,"stroke-miterlimit",n.strokeMiterlimit),K(e,"stroke-dasharray",n.strokeDasharray),K(e,"stroke-dashoffset",n.strokeDashoffset),K(e,"shape-rendering",n.shapeRendering),K(e,"filter",n.imageFilter),K(e,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;K(e,"pointer-events",i)}function zn(e,n){Sg(e,"mix-blend-mode",n.mixBlendMode),K(e,"opacity",n.opacity)}function Tg(e,n,t){e.each(function(r){const i=n(r);if(i!=null){const a=this.ownerDocument.createElementNS(xr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(xr.xlink,"href",i),t!=null&&a.setAttribute("target",t),this.parentNode.insertBefore(a,this).appendChild(this)}})}function K(e,n,t){t!=null&&e.attr(n,t)}function Sg(e,n,t){t!=null&&e.style(n,t)}function Yn(e,n,{x:t,y:r},i=Se,a=Se){i+=n.dx,a+=n.dy,t?.bandwidth&&(i+=t.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function be(e,n){if((e=we(e))!==n)return e}function yt(e,n){if((e=ce(e))!==n)return e}const Cg=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function of(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!Cg.test(e))throw new Error(`invalid class name: ${e}`);return e}function cf(e,n){if(typeof n=="string")e.property("style",n);else if(n!=null)for(const t of e)Object.assign(t.style,n)}function hi({frameAnchor:e},{width:n,height:t,marginTop:r,marginRight:i,marginBottom:a,marginLeft:f}){return[/left$/.test(e)?f:/right$/.test(e)?n-i:(f+n-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?t-a:(r+t-a)/2]}function uf(e={}){const{document:n=typeof window<"u"?window.document:void 0,clip:t}=e;return{document:n,clip:Rl(t)}}function ve(e,{document:n}){return Ct(fc(e).call(n.documentElement))}const kl=Math.PI,tn=2*kl,$o=.618;function Ag({projection:e,inset:n=0,insetTop:t=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},f){if(e==null)return;if(typeof e.stream=="function")return e;let o,c,s="frame";if(qn(e)){let M;if({type:e,domain:c,inset:M,insetTop:t=M!==void 0?M:t,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:s=s,...o}=e,e==null)return}typeof e!="function"&&({type:e}=Fl(e));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=f,b=u-l-h-a-r,w=d-p-g-t-i;if(e=e?.({width:b,height:w,clip:s,...o}),e==null)return;s=Eg(s,l,p,u-h,d-g);let m=l+a,$=p+t,y;if(c!=null){const[[M,v],[T,D]]=Kc(e).bounds(c),C=Math.min(b/(T-M),w/(D-v));C>0?(m-=(C*(M+T)-b)/2,$-=(C*(v+D)-w)/2,y=Ma({point(L,E){this.stream.point(L*C+m,E*C+$)}})):An("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=m===0&&$===0?Ul():Ma({point(M,v){this.stream.point(M+m,v+$)}}),{stream:M=>e.stream(y.stream(s(M)))}}function Fl(e){switch(`${e}`.toLowerCase()){case"albers-usa":return qe(sh,.7463,.4673);case"albers":return hr(tu,.7463,.4673);case"azimuthal-equal-area":return qe(lh,4,4);case"azimuthal-equidistant":return qe(dh,tn,tn);case"conic-conformal":return hr(gh,tn,tn);case"conic-equal-area":return hr(Pr,6.1702,2.9781);case"conic-equidistant":return hr(yh,7.312,3.6282);case"equal-earth":return qe(vh,5.4133,2.6347);case"equirectangular":return qe(mh,tn,kl);case"gnomonic":return qe(Mh,3.4641,3.4641);case"identity":return{type:Ul};case"reflect-y":return{type:Dg};case"mercator":return qe(hh,tn,tn);case"orthographic":return qe($h,2,2);case"stereographic":return qe(xh,2,2);case"transverse-mercator":return qe(Th,tn,tn);default:throw new Error(`unknown projection type: ${e}`)}}function Eg(e,n,t,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return qc(n,t,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function qe(e,n,t){return{type:({width:r,height:i,rotate:a,precision:f=.15,clip:o})=>{const c=e();return f!=null&&c.precision?.(f),a!=null&&c.rotate?.(a),typeof o=="number"&&c.clipAngle?.(o),c.scale(Math.min(r/n,i/t)),c.translate([r/2,i/2]),c},aspectRatio:t/n}}function hr(e,n,t){const{type:r,aspectRatio:i}=qe(e,n,t);return{type:a=>{const{parallels:f,domain:o,width:c,height:s}=a,u=r(a);return f!=null&&(u.parallels(f),o===void 0&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const Ul=Qt({stream:e=>e}),Dg=Qt(Ma({point(e,n){this.stream.point(e,-n)}}));function Lg(e,n,t,r){const i=t[e],a=t[n],f=i.length,o=t[e]=new Float64Array(f).fill(NaN),c=t[n]=new Float64Array(f).fill(NaN);let s;const u=r.stream({point(d,l){o[s]=d,c[s]=l}});for(s=0;s<f;++s)u.point(i[s],a[s])}function Ig({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(qn(e)&&(e=e.type),e!=null)}function Ng(e){if(typeof e?.stream=="function")return $o;if(qn(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:n}=Fl(e);if(n)return n}return $o}}function Rg(e){const n=[],t=[],r={scale:"x",value:n},i={scale:"y",value:t},a={point(f,o){n.push(f),t.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const f of e.value)Sn(f,a);return[r,i]}const kg=["#4269d0","#efb118","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e","#9498a0"],Ol=new Map([["accent",Y1],["category10",z1],["dark2",H1],["observable10",kg],["paired",j1],["pastel1",_1],["pastel2",V1],["set1",X1],["set2",G1],["set3",Z1],["tableau10",K1]]);function Fg(e){return e!=null&&Ol.has(`${e}`.toLowerCase())}const xo=new Map([...Ol,["brbg",rn(Wu,Bu)],["prgn",rn(zu,Yu)],["piyg",rn(Hu,ju)],["puor",rn(_u,Vu)],["rdbu",rn(Ta,zr)],["rdgy",rn(Xu,Gu)],["rdylbu",rn(Sa,Yr)],["rdylgn",rn(Zu,Ku)],["spectral",rn(Qu,Ju)],["burd",To(Ta,zr)],["buylrd",To(Sa,Yr)],["blues",pe(Ts,Ss)],["greens",pe(Cs,As)],["greys",pe(Es,Ds)],["oranges",pe(ks,Fs)],["purples",pe(Ls,Is)],["reds",pe(Ns,Rs)],["turbo",an(qs)],["viridis",an(Ws)],["magma",an(Bs)],["inferno",an(zs)],["plasma",an(Ys)],["cividis",an(Us)],["cubehelix",an(Os)],["warm",an(hc)],["cool",an(pc)],["bugn",pe(es,ns)],["bupu",pe(ts,rs)],["gnbu",pe(is,as)],["orrd",pe(fs,os)],["pubu",pe(ss,ls)],["pubugn",pe(cs,us)],["purd",pe(ds,hs)],["rdpu",pe(ps,gs)],["ylgn",pe(ys,ws)],["ylgnbu",pe(ms,bs)],["ylorbr",pe(vs,Ms)],["ylorrd",pe($s,xs)],["rainbow",So(gc)],["sinebow",So(Ps)]]);function pe(e,n){return({length:t})=>t===1?[e[3][1]]:t===2?[e[3][1],e[3][2]]:(t=Math.max(3,Math.floor(t)),t>9?ze(n,t):e[t])}function rn(e,n){return({length:t})=>t===2?[e[3][0],e[3][2]]:(t=Math.max(3,Math.floor(t)),t>11?ze(n,t):e[t])}function To(e,n){return({length:t})=>t===2?[e[3][2],e[3][0]]:(t=Math.max(3,Math.floor(t)),t>11?ze(r=>n(1-r),t):e[t].slice().reverse())}function an(e){return({length:n})=>ze(e,Math.max(2,Math.floor(n)))}function So(e){return({length:n})=>ze(e,Math.floor(n)+1).slice(0,-1)}function Pl(e){const n=`${e}`.toLowerCase();if(!xo.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return xo.get(n)}function pi(e,n){const t=Pl(e),r=typeof t=="function"?t({length:n}):t;return r.length!==n?r.slice(0,n):r}function Ug(e,n="greys"){const t=new Set,[r,i]=pi(n,2);for(const a of e)if(a!=null)if(a===!0)t.add(i);else if(a===!1)t.add(r);else return;return[...t]}const Co=new Map([["brbg",Bu],["prgn",Yu],["piyg",ju],["puor",Vu],["rdbu",zr],["rdgy",Gu],["rdylbu",Yr],["rdylgn",Ku],["spectral",Ju],["burd",e=>zr(1-e)],["buylrd",e=>Yr(1-e)],["blues",Ss],["greens",As],["greys",Ds],["purples",Is],["reds",Rs],["oranges",Fs],["turbo",qs],["viridis",Ws],["magma",Bs],["inferno",zs],["plasma",Ys],["cividis",Us],["cubehelix",Os],["warm",hc],["cool",pc],["bugn",ns],["bupu",rs],["gnbu",as],["orrd",os],["pubugn",us],["pubu",ls],["purd",hs],["rdpu",gs],["ylgnbu",bs],["ylgn",ws],["ylorbr",Ms],["ylorrd",xs],["rainbow",gc],["sinebow",Ps]]);function sf(e){const n=`${e}`.toLowerCase();if(!Co.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Co.get(n)}const Og=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Pg(e){return e!=null&&Og.has(`${e}`.toLowerCase())}const ql=e=>n=>e(1-n),qi=[0,1],Ao=new Map([["number",zt],["rgb",Oa],["hsl",L0],["hcl",R0],["lab",I0]]);function Wl(e){const n=`${e}`.toLowerCase();if(!Ao.has(n))throw new Error(`unknown interpolator: ${n}`);return Ao.get(n)}function ir(e,n,t,{type:r,nice:i,clamp:a,zero:f,domain:o=zl(e,t),unknown:c,round:s,scheme:u,interval:d,range:l=se.get(e)===nr?Gg(t,o):se.get(e)===tr?Zg(t,o):se.get(e)===rr?qi:void 0,interpolate:h=se.get(e)===mn?u==null&&l!==void 0?Oa:sf(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?sc:zt,reverse:p}){if(d=er(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Wl(h)),p=!!p,l!==void 0){const g=(o=Ae(o)).length,b=(l=Ae(l)).length;if(g!==b){if(h.length===1)throw new Error("invalid piecewise interpolator");h=ei(h,l),l=void 0}}if(h.length===1?(p&&(h=ql(h),p=!1),l===void 0&&(l=Float64Array.from(o,(g,b)=>b/(o.length-1)),l.length===2&&(l=qi)),n.interpolate((l===qi?Qt:df)(h))):n.interpolate(h),f){const[g,b]=vn(o);(g>0||b<0)&&(o=Ot(o),at(o)!==Math.sign(g)?o[o.length-1]=0:o[0]=0)}return p&&(o=Ar(o)),n.domain(o).unknown(c),i&&(n.nice(qg(i,r)),o=n.domain()),l!==void 0&&n.range(l),a&&n.clamp(a),{type:r,domain:o,range:l,scale:n,interpolate:h,interval:d}}function qg(e,n){return e===!0?void 0:typeof e=="number"?e:Rp(e,n)}function Wg(e,n,t){return ir(e,lc(),n,t)}function Bg(e,n,t){return Bl(e,n,{...t,exponent:.5})}function Bl(e,n,{exponent:t=1,...r}){return ir(e,vu().exponent(t),n,{...r,type:"pow"})}function zg(e,n,{base:t=10,domain:r=Kg(n),...i}){return ir(e,mu().base(t),n,{...i,domain:r})}function Yg(e,n,{constant:t=1,...r}){return ir(e,yu().constant(t),n,r)}function Hg(e,n,{range:t,quantiles:r=t===void 0?5:(t=[...t]).length,n:i=r,scheme:a="rdylbu",domain:f=Qg(n),unknown:o,interpolate:c,reverse:s}){return t===void 0&&(t=c!==void 0?ze(c,i):se.get(e)===mn?pi(a,i):void 0),f.length>0&&(f=Mu(f,t===void 0?{length:i}:t).quantiles()),lf(e,n,{domain:f,range:t,reverse:s,unknown:o})}function jg(e,n,{range:t,n:r=t===void 0?5:(t=[...t]).length,scheme:i="rdylbu",domain:a=zl(e,n),unknown:f,interpolate:o,reverse:c}){const[s,u]=vn(a);let d;return t===void 0?(d=Ki(s,u,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,t=o!==void 0?ze(o,r):se.get(e)===mn?pi(i,r):void 0):(d=ze(zt(s,u),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),at(Ae(a))<0&&d.reverse(),lf(e,n,{domain:d,range:t,reverse:c,unknown:f})}function lf(e,n,{domain:t=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:f=a!==void 0?ze(a,t.length+1):se.get(e)===mn?pi(i,t.length+1):void 0,reverse:o}){t=Ae(t);const c=at(t);if(!isNaN(c)&&!_g(t,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return o&&(f=Ar(f)),{type:"threshold",scale:$u(c<0?Ar(t):t,f===void 0?[]:f).unknown(r),domain:t,range:f}}function _g(e,n){for(let t=1,r=e.length,i=e[0];t<r;++t){const a=Kr(i,i=e[t]);if(a!==0&&a!==n)return!1}return!0}function Vg(e){return{type:"identity",scale:jp(se.get(e))?hu():n=>n}}function Bt(e,n=al){return e.length?[dn(e,({value:t})=>t===void 0?t:dn(t,n)),Be(e,({value:t})=>t===void 0?t:Be(t,n))]:[0,1]}function zl(e,n){const t=se.get(e);return(t===nr||t===rr||t===tr?Xg:Bt)(n)}function Xg(e){return[0,e.length?Be(e,({value:n})=>n===void 0?n:Be(n,al)):1]}function Gg(e,n){const t=e.find(({radius:f})=>f!==void 0);if(t!==void 0)return[0,t.radius];const r=Cr(e,.5,({value:f})=>f===void 0?NaN:Cr(f,.25,Ka)),i=n.map(f=>3*Math.sqrt(f/r)),a=30/Be(i);return a<1?i.map(f=>f*a):i}function Zg(e,n){const t=ra(e,({value:a})=>a===void 0?NaN:ra(a,Math.abs)),r=n.map(a=>12*a/t),i=60/Be(r);return i<1?r.map(a=>a*i):r}function Kg(e){for(const{value:n}of e)if(n!==void 0)for(let t of n){if(t>0)return Bt(e,Ka);if(t<0)return Bt(e,fl)}return[1,10]}function Qg(e){const n=[];for(const{value:t}of e)if(t!==void 0)for(const r of t)n.push(r);return n}function df(e){return(n,t)=>r=>e(n+r*(t-n))}function gi(e,n,t,r,{type:i,nice:a,clamp:f,domain:o=Bt(r),unknown:c,pivot:s=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=se.get(e)===mn?u==null&&d!==void 0?Oa:sf(u!==void 0?u:"rdbu"):zt,reverse:p}){s=+s,o=Ae(o);let[g,b]=o;if(o.length>2&&An(`Warning: the diverging ${e} scale domain contains extra elements.`),Kr(g,b)<0&&([g,b]=[b,g],p=!p),g=Math.min(g,s),b=Math.max(b,s),typeof h!="function"&&(h=Wl(h)),d!==void 0&&(h=h.length===1?df(h)(...d):ei(h,d)),p&&(h=ql(h)),l){const w=t.apply(s),m=w-t.apply(g),$=t.apply(b)-w;m<$?g=t.invert(w-$):m>$&&(b=t.invert(w+m))}return n.domain([g,s,b]).unknown(c).interpolator(h),f&&n.clamp(f),a&&n.nice(a),{type:i,domain:[g,b],pivot:s,interpolate:h,scale:n}}function Jg(e,n,t){return gi(e,Uu(),rm,n,t)}function em(e,n,t){return Yl(e,n,{...t,exponent:.5})}function Yl(e,n,{exponent:t=1,...r}){return gi(e,qu().exponent(t=+t),fm(t),n,{...r,type:"diverging-pow"})}function nm(e,n,{base:t=10,pivot:r=1,domain:i=Bt(n,r<0?fl:Ka),...a}){return gi(e,Ou().base(t=+t),im,n,{domain:i,pivot:r,...a})}function tm(e,n,{constant:t=1,...r}){return gi(e,Pu().constant(t=+t),om(t),n,r)}const rm={apply(e){return e},invert(e){return e}},im={apply:Math.log,invert:Math.exp},am={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function fm(e){return e===.5?am:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),e)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/e)}}}function om(e){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}}function Hl(e,n,t,r){return ir(e,n,t,r)}function cm(e,n,t){return Hl(e,W1(),n,t)}function um(e,n,t){return Hl(e,B1(),n,t)}const ar=Symbol("ordinal");function jl(e,n,t,{type:r,interval:i,domain:a,range:f,reverse:o,hint:c}){return i=er(i,r),a===void 0&&(a=Vl(t,i,e)),(r==="categorical"||r===ar)&&(r="ordinal"),o&&(a=Ar(a)),a=n.domain(a).domain(),f!==void 0&&(typeof f=="function"&&(f=f(a)),n.range(f)),{type:r,domain:a,range:f,scale:n,hint:c,interval:i}}function sm(e,n,{type:t,interval:r,domain:i,range:a,scheme:f,unknown:o,...c}){r=er(r,t),i===void 0&&(i=Vl(n,r,e));let s;if(se.get(e)===di)s=hm(n),a=a===void 0?pm(s):ge(a,ff);else if(se.get(e)===mn&&(a===void 0&&(t==="ordinal"||t===ar)&&(a=Ug(i,f),a!==void 0&&(f=void 0)),f===void 0&&a===void 0&&(f=t==="ordinal"?"turbo":"observable10"),f!==void 0))if(a!==void 0){const u=sf(f),d=a[0],l=a[1]-a[0];a=({length:h})=>ze(p=>u(d+l*p),h)}else a=Pl(f);if(o===xa)throw new Error(`implicit unknown on ${e} scale is not supported`);return jl(e,_a().unknown(o),n,{...c,type:t,domain:i,range:a,hint:s})}function lm(e,n,{align:t=.5,padding:r=.5,...i}){return _l(Sh().align(t).padding(r),n,i,e)}function dm(e,n,{align:t=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...f}){return _l(ri().align(t).paddingInner(i).paddingOuter(a),n,f,e)}function _l(e,n,t,r){let{round:i}=t;return i!==void 0&&e.round(i=!!i),e=jl(r,e,n,t),e.round=i,e}function Vl(e,n,t){const r=new Jr;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const f of i)r.add(f)}if(n!==void 0){const[i,a]=vn(r).map(n.floor,n);return n.range(i,n.offset(a))}if(r.size>1e4&&se.get(t)===Ze)throw new Error(`implicit ordinal domain of ${t} scale has more than 10,000 values`);return ta(r,Je)}function Eo(e,n){let t;for(const{hint:r}of e){const i=r?.[n];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}function hm(e){return{fill:Eo(e,"fill"),stroke:Eo(e,"stroke")}}function pm(e){return Me(e.fill)?cp:op}function Ra(e,{label:n,inset:t=0,insetTop:r=t,insetRight:i=t,insetBottom:a=t,insetLeft:f=t,round:o,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,facet:{label:p=n}={},...g}={}){const b={};for(const[w,m]of e){const $=g[w],y=wm(w,m,{round:se.get(w)===Ze?o:void 0,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,...$});if(y){let{label:M=w==="fx"||w==="fy"?p:n,percent:v,transform:T,inset:D,insetTop:C=D!==void 0?D:w==="y"?r:0,insetRight:L=D!==void 0?D:w==="x"?i:0,insetBottom:E=D!==void 0?D:w==="y"?a:0,insetLeft:O=D!==void 0?D:w==="x"?f:0}=$||{};if(T==null)T=void 0;else if(typeof T!="function")throw new Error("invalid scale transform; not a function");y.percent=!!v,y.label=M===void 0?mm(m,y):M,y.transform=T,w==="x"||w==="fx"?(y.insetLeft=+O,y.insetRight=+L):(w==="y"||w==="fy")&&(y.insetTop=+C,y.insetBottom=+E),b[w]=y}}return b}function Do(e){const n={},t={scales:n};for(const[r,i]of Object.entries(e)){const{scale:a,type:f,interval:o,label:c}=i;n[r]=Tm(i),t[r]=a,a.type=f,o!=null&&(a.interval=o),c!=null&&(a.label=c)}return t}function gm(e,n){const{x:t,y:r,fx:i,fy:a}=e,f=i||a?hf(n):n;i&&Lo(i,f),a&&Io(a,f);const o=i||a?Xl(e,n):n;t&&Lo(t,o),r&&Io(r,o)}function mm(e=[],n){let t;for(const{label:r}of e)if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}if(t!==void 0)return!Hn(n)&&n.percent&&(t=`${t} (%)`),{inferred:!0,toString:()=>t}}function bm(e){return Math.sign(at(e.domain()))*Math.sign(at(e.range()))}function hf(e){const{marginTop:n,marginRight:t,marginBottom:r,marginLeft:i,width:a,height:f,facet:{marginTop:o,marginRight:c,marginBottom:s,marginLeft:u}}=e;return{marginTop:Math.max(n,o),marginRight:Math.max(t,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:a,height:f}}function Xl({fx:e,fy:n},t){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:o,height:c}=hf(t);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:e?e.scale.bandwidth()+f+i:o,height:n?n.scale.bandwidth()+r+a:c,facet:{width:o,height:c}}}function Lo(e,n){if(e.range===void 0){const{insetLeft:t,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:f=0}=n,o=a+t,c=i-f-r;e.range=[o,Math.max(o,c)],Hn(e)||(e.range=Zl(e)),e.scale.range(e.range)}Gl(e)}function Io(e,n){if(e.range===void 0){const{insetTop:t,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:f=0}=n,o=a+t,c=i-f-r;e.range=[Math.max(o,c),o],Hn(e)?e.range.reverse():e.range=Zl(e),e.scale.range(e.range)}Gl(e)}function Gl(e){e.round===void 0&&Mm(e)&&ym(e)<=30&&e.scale.round(!0)}function ym({scale:e}){const n=e.domain().length,[t,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),f=n-i,o=Math.abs(r-t)/Math.max(1,f+a*2);return(o-Math.floor(o))*f}function Zl(e){const n=e.scale.domain().length+Kl(e);if(!(n>2))return e.range;const[t,r]=e.range;return Array.from({length:n},(i,a)=>t+a/(n-1)*(r-t))}function wm(e,n=[],t={}){const r=vm(e,n,t);if(t.type===void 0&&t.domain===void 0&&t.range===void 0&&t.interval==null&&e!=="fx"&&e!=="fy"&&Hn({type:r})){const i=n.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Oe)?An(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Xn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Xn(r)}".`):i.some(Up)?An(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Xn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Xn(r)}".`):i.some(Op)&&An(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Xn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Xn(r)}".`)}switch(t.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":t=pr(n,t,po);break;case"identity":switch(se.get(e)){case Ze:t=pr(n,t,po);break;case di:t=pr(n,t,$m);break}break;case"utc":case"time":t=pr(n,t,xp);break}switch(r){case"diverging":return Jg(e,n,t);case"diverging-sqrt":return em(e,n,t);case"diverging-pow":return Yl(e,n,t);case"diverging-log":return nm(e,n,t);case"diverging-symlog":return tm(e,n,t);case"categorical":case"ordinal":case ar:return sm(e,n,t);case"cyclical":case"sequential":case"linear":return Wg(e,n,t);case"sqrt":return Bg(e,n,t);case"threshold":return lf(e,n,t);case"quantile":return Hg(e,n,t);case"quantize":return jg(e,n,t);case"pow":return Bl(e,n,t);case"log":return zg(e,n,t);case"symlog":return Yg(e,n,t);case"utc":return um(e,n,t);case"time":return cm(e,n,t);case"point":return lm(e,n,t);case"band":return dm(e,n,t);case"identity":return Vg(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Xn(e){return typeof e=="symbol"?e.description:e}function No(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Ro={toString:()=>"projection"};function vm(e,n,{type:t,domain:r,range:i,scheme:a,pivot:f,projection:o}){if(t=No(t),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&o!=null&&(t=Ro);for(const s of n){const u=No(s.type);if(u!==void 0){if(t===void 0)t=u;else if(t!==u)throw new Error(`scale incompatible with channel: ${t} !== ${u}`)}}if(t===Ro)return;if(t!==void 0)return t;if(r===void 0&&!n.some(({value:s})=>s!==void 0))return;const c=se.get(e);if(c===nr)return"sqrt";if(c===rr||c===tr)return"linear";if(c===di)return"ordinal";if((r||i||[]).length>2)return Wi(c);if(r!==void 0){if(go(r))return Wi(c);if(Oe(r))return"utc"}else{const s=n.map(({value:u})=>u).filter(u=>u!==void 0);if(s.some(go))return Wi(c);if(s.some(Oe))return"utc"}if(c===mn){if(f!=null||Pg(a))return"diverging";if(Fg(a))return"categorical"}return"linear"}function Wi(e){switch(e){case Ze:return"point";case mn:return ar;default:return"ordinal"}}function Hn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===ar}function Kl({type:e}){return e==="threshold"}function Mm({type:e}){return e==="point"||e==="band"}function ot(e){if(e===void 0)return!0;const n=e.domain(),t=e(n[0]);for(let r=1,i=n.length;r<i;++r)if(e(n[r])-t)return!1;return!0}function pr(e,{domain:n,...t},r){for(const i of e)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...t}}function $m(e){return ge(e,ff)}function xm(e){return n=>{if(!se.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return e[n]}}function Tm({scale:e,type:n,domain:t,range:r,interpolate:i,interval:a,transform:f,percent:o,pivot:c}){if(n==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=e.unknown?e.unknown():void 0;return{type:n,domain:Ot(t),...r!==void 0&&{range:Ot(r)},...f!==void 0&&{transform:f},...o&&{percent:o},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function Sm(e,n,t={}){let r=.5-Se,i=.5+Se,a=.5+Se,f=.5-Se;for(const{marginTop:g,marginRight:b,marginBottom:w,marginLeft:m}of n)g>r&&(r=g),b>i&&(i=b),w>a&&(a=w),m>f&&(f=m);let{margin:o,marginTop:c=o!==void 0?o:r,marginRight:s=o!==void 0?o:i,marginBottom:u=o!==void 0?o:a,marginLeft:d=o!==void 0?o:f}=t;c=+c,s=+s,u=+u,d=+d;let{width:l=640,height:h=Cm(e,t,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:f})+Math.max(0,c-r+u-a)}=t;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:s,marginBottom:u,marginLeft:d};if(e.fx||e.fy){let{margin:g,marginTop:b=g!==void 0?g:c,marginRight:w=g!==void 0?g:s,marginBottom:m=g!==void 0?g:u,marginLeft:$=g!==void 0?g:d}=t.facet??{};b=+b,w=+w,m=+m,$=+$,p.facet={marginTop:b,marginRight:w,marginBottom:m,marginLeft:$}}return p}function Cm({x:e,y:n,fy:t,fx:r},{projection:i,aspectRatio:a},{width:f,marginTopDefault:o,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const d=t?t.scale.domain().length:1,l=Ng(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,b=Math.max(.1,Math.min(10,g));return Math.round((f-u-c)*b+o+s)}const h=n?Hn(n)?n.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=ko("y",n)/(ko("x",e)*a),g=r?r.scale.bandwidth():1,b=t?t.scale.bandwidth():1,w=g*(f-u-c)-e.insetLeft-e.insetRight;return(p*w+n.insetTop+n.insetBottom)/b+o+s}return!!(n||t)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function ko(e,n){if(!n)throw new Error(`aspectRatio requires ${e} scale`);const{type:t,domain:r}=n;let i;switch(t){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=n.scale.exponent();i=c=>Math.pow(c,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${t}`)}const[a,f]=vn(r);return Math.abs(i(f)-i(a))}function Am(e,n){const{fx:t,fy:r}=Ra(e,n),i=t?.scale.domain(),a=r?.scale.domain();return i&&a?p0(i,a).map(([f,o],c)=>({x:f,y:o,i:c})):i?i.map((f,o)=>({x:f,i:o})):a?a.map((f,o)=>({y:f,i:o})):void 0}function Em(e,{x:n,y:t}){return n&&=ka(n),t&&=ka(t),e.filter(n&&t?r=>n.has(r.x)&&t.has(r.y):n?r=>n.has(r.x):r=>t.has(r.y)).sort(n&&t?(r,i)=>n.get(r.x)-n.get(i.x)||t.get(r.y)-t.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>t.get(r.y)-t.get(i.y))}function pf(e,{fx:n,fy:t}){const r=$n(e),i=n?.value,a=t?.value;return n&&t?At(r,f=>(f.fx=i[f[0]],f.fy=a[f[0]],f),f=>i[f],f=>a[f]):n?At(r,f=>(f.fx=i[f[0]],f),f=>i[f]):At(r,f=>(f.fy=a[f[0]],f),f=>a[f])}function Dm(e,n,{marginTop:t,marginLeft:r}){return e&&n?({x:i,y:a})=>`translate(${e(i)-r},${n(a)-t})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${n(i)-t})`}function Lm(e){const n=[],t=new Uint32Array(Ln(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(t.set(a,i),i+=a.length);n.push(t.slice(0,i))}return n}const Im=new Map([["top",Bi],["right",Hi],["bottom",zi],["left",Yi],["top-left",gr(Bi,Yi)],["top-right",gr(Bi,Hi)],["bottom-left",gr(zi,Yi)],["bottom-right",gr(zi,Hi)],["top-empty",km],["right-empty",Om],["bottom-empty",Fm],["left-empty",Um],["empty",Pm]]);function Nm(e){if(e==null)return null;const n=Im.get(`${e}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${e}`)}const Fo=new WeakMap;function ka(e){let n=Fo.get(e);return n||Fo.set(e,n=new Dn(ge(e,(t,r)=>[t,r]))),n}function xn(e,n){return ka(e).get(n)}function Rm(e,n,t){return n=dr(n),t=dr(t),e.find(r=>Object.is(dr(r.x),n)&&Object.is(dr(r.y),t))}function mi(e,n,t){return Rm(e,n,t)?.empty}function Bi(e,{y:n},{y:t}){return n?xn(n,t)===0:!0}function zi(e,{y:n},{y:t}){return n?xn(n,t)===n.length-1:!0}function Yi(e,{x:n},{x:t}){return n?xn(n,t)===0:!0}function Hi(e,{x:n},{x:t}){return n?xn(n,t)===n.length-1:!0}function km(e,{y:n},{x:t,y:r,empty:i}){if(i)return!1;if(!n)return;const a=xn(n,r);if(a>0)return mi(e,t,n[a-1])}function Fm(e,{y:n},{x:t,y:r,empty:i}){if(i)return!1;if(!n)return;const a=xn(n,r);if(a<n.length-1)return mi(e,t,n[a+1])}function Um(e,{x:n},{x:t,y:r,empty:i}){if(i)return!1;if(!n)return;const a=xn(n,t);if(a>0)return mi(e,n[a-1],r)}function Om(e,{x:n},{x:t,y:r,empty:i}){if(i)return!1;if(!n)return;const a=xn(n,t);if(a<n.length-1)return mi(e,n[a+1],r)}function Pm(e,n,{empty:t}){return t}function gr(e,n){return function(){return e.apply(null,arguments)&&n.apply(null,arguments)}}function ji(e,{channels:{fx:n,fy:t},groups:r}){return n&&t?e.map(({x:i,y:a})=>r.get(i)?.get(a)??[]):n?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class nn{constructor(n,t={},r={},i){const{facet:a="auto",facetAnchor:f,fx:o,fy:c,sort:s,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:b=l,clip:w=i?.clip,channels:m,tip:$,render:y}=r;if(this.data=n,this.sort=Pt(s)?s:null,this.initializer=jr(r).initializer,this.transform=this.initializer?r.transform:Cl(r).transform,a===null||a===!1?this.facet=null:(this.facet=je(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=n===Mr&&typeof o=="string"?[o]:o,this.fy=n===Mr&&typeof c=="string"?[c]:c),this.facetAnchor=Nm(f),t=$l(t),m!==void 0&&(t={...qm(m),...t}),i!==void 0&&(t={...vg(this,r,i),...t}),this.channels=Object.fromEntries(Object.entries(t).map(([M,v])=>{if(nf(v.value)){const{value:T,label:D=v.label,scale:C=v.scale}=v.value;v={...v,label:D,scale:C,value:T}}if(n===Mr&&typeof v.value=="string"){const{value:T}=v;v={...v,value:[T]}}return[M,v]}).filter(([M,{value:v,optional:T}])=>{if(v!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+b,this.clip=Rl(w),this.tip=Wm($),this.facet==="super"){if(o||c)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:v}=t[M];if(!(v!=="x"&&v!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=Jl(y,this.render))}initialize(n,t,r){let i=Ae(this.data);n===void 0&&i!=null&&(n=[$n(i)]);const a=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Ae(i)),n!==void 0&&(n.original=a);const f=og(this.channels,i);return this.sort!=null&&ug(i,n,f,t,this.sort),{data:i,facets:n,channels:f}}filter(n,t,r){for(const i in t){const{filter:a=kn}=t[i];if(a!==null){const f=r[i];n=n.filter(o=>a(f[o]))}}return n}project(n,t,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in n&&n[a].scale==="y"&&Lg(i,a,t,r.projection)}}scale(n,t,r){const i=cg(n,t);return r.projection&&this.project(n,i,r),i}}function Ql(...e){return e.plot=nn.prototype.plot,e}function Jl(e,n){if(e==null)return n===null?void 0:n;if(n==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(t,r,i,a,f,o){return e.call(this,t,r,i,a,f,(c,s,u,d,l)=>n.call(this,c,s,u,d,l,o))}}function qm(e){return Object.fromEntries(Object.entries($l(e)).map(([n,t])=>(t=typeof t=="string"?{value:t,label:n}:si(t),t.filter===void 0&&t.scale==null&&(t={...t,filter:null}),[n,t])))}function Wm(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?je(e,"tip",["x","y","xy"]):e}function gf(e,n){return e?.tip===!0?{...e,tip:n}:qn(e?.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:n}}:e}const Uo=new WeakMap;function mf(e,n,{x:t,y:r,px:i,py:a,maxRadius:f=40,channels:o,render:c,...s}={}){return f=+f,i!=null&&(t??=null,o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??=null,o={...o,py:{value:a,scale:"y"}}),{x:t,y:r,channels:o,...s,render:Jl(function(u,d,l,h,p,g){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:w}=p.getMarkState(this);let m=Uo.get(b);m||Uo.set(b,m={sticky:!1,roots:[],renders:[]});let $=m.renders.push(B)-1;const{x:y,y:M,fx:v,fy:T}=d;let D=v?v(u.fx)-h.marginLeft:0,C=T?T(u.fy)-h.marginTop:0;y?.bandwidth&&(D+=y.bandwidth()/2),M?.bandwidth&&(C+=M.bandwidth()/2);const L=u.fi!=null;let E;if(L){let F=m.facetStates;F||(m.facetStates=F=new Map),E=F.get(this),E||F.set(this,E=new Map)}const[O,z]=hi(this,h),{px:k,py:x}=l,N=k?F=>k[F]:ed(l,O),G=x?F=>x[F]:nd(l,z);let j,I,P,q;function R(F,ne){if(L)if(q&&(q=cancelAnimationFrame(q)),F==null)E.delete(u.fi);else{E.set(u.fi,ne),q=requestAnimationFrame(()=>{q=null;for(const[A,U]of E)if(U<ne||U===ne&&A<u.fi){F=null;break}B(F)});return}B(F)}function B(F){if(j===F&&P===m.sticky)return;j=F,P=p.pointerSticky=m.sticky;const ne=j==null?[]:[j];L&&(ne.fx=u.fx,ne.fy=u.fy,ne.fi=u.fi);const A=g(ne,d,l,h,p);if(I){if(L){const U=I.parentNode,W=I.getAttribute("transform"),S=A.getAttribute("transform");W?A.setAttribute("transform",W):A.removeAttribute("transform"),S?U.setAttribute("transform",S):U.removeAttribute("transform"),A.removeAttribute("aria-label"),A.removeAttribute("aria-description"),A.removeAttribute("aria-hidden")}I.replaceWith(A)}return m.roots[$]=I=A,j==null&&E?.size>1||p.dispatchValue(j==null?null:w[j]),A}function te(F){if(m.sticky||F.pointerType==="mouse"&&F.buttons===1)return;let[ne,A]=u0(F);ne-=D,A-=C;const U=ne<h.marginLeft||ne>h.width-h.marginRight?1:e,W=A<h.marginTop||A>h.height-h.marginBottom?1:n;let S=null,ie=f*f;for(const Y of u){const fe=U*(N(Y)-ne),le=W*(G(Y)-A),xe=fe*fe+le*le;xe<=ie&&(S=Y,ie=xe)}if(S!=null&&(e!==1||n!==1)){const Y=N(S)-ne,fe=G(S)-A;ie=Y*Y+fe*fe}R(S,ie)}function Q(F){F.pointerType==="mouse"&&j!=null&&(m.sticky&&m.roots.some(ne=>ne?.contains(F.target))||(m.sticky?(m.sticky=!1,m.renders.forEach(ne=>ne(null))):(m.sticky=!0,B(j)),F.stopImmediatePropagation()))}function J(F){F.pointerType==="mouse"&&(m.sticky||R(null))}return b.addEventListener("pointerenter",te),b.addEventListener("pointermove",te),b.addEventListener("pointerdown",Q),b.addEventListener("pointerleave",J),B(null)},c)}}function Bm(e){return mf(1,1,e)}function zm(e){return mf(1,.01,e)}function Oo(e){return mf(.01,1,e)}function ed({x1:e,x2:n,x:t=e},r){return e&&n?i=>(e[i]+n[i])/2:t?i=>t[i]:()=>r}function nd({y1:e,y2:n,y:t=e},r){return e&&n?i=>(e[i]+n[i])/2:t?i=>t[i]:()=>r}function td(e){return Hn(e)&&e.interval===void 0?void 0:"tabular-nums"}function Ym(e,n){let{label:t=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:f=18,marginRight:o=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:d=(i-s-o)/64,tickFormat:l,fontVariant:h=td(e),round:p=!0,opacity:g,className:b}=n;const w=uf(n);b=of(b),g=Te(g)[1],l===null&&(l=()=>null);const m=ve("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(O=>O.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(cf,u);let $=O=>O.selectAll(".tick line").attr("y1",f+c-a),y;const M=p?(O,z)=>O.rangeRound(z):(O,z)=>O.range(z),{type:v,domain:T,range:D,interpolate:C,scale:L,pivot:E}=e;if(C){const O=D===void 0?C:ei(C.length===1?df(C):C,D);y=M(L.copy(),ze(zt(s,i-o),Math.min(T.length+(E!==void 0),D===void 0?1/0:D.length)));const z=256,k=w.document.createElement("canvas");k.width=z,k.height=1;const x=k.getContext("2d");for(let N=0,G=z-1;N<z;++N)x.fillStyle=O(N/G),x.fillRect(N,0,1,1);m.append("image").attr("opacity",g).attr("x",s).attr("y",f).attr("width",i-s-o).attr("height",a-f-c).attr("preserveAspectRatio","none").attr("xlink:href",k.toDataURL())}else if(v==="threshold"){const O=T,z=l===void 0?k=>k:typeof l=="string"?Gr(l):l;y=M(lc().domain([-1,D.length-1]),[s,i-o]),m.append("g").attr("fill-opacity",g).selectAll().data(D).enter().append("rect").attr("x",(k,x)=>y(x-1)).attr("y",f).attr("width",(k,x)=>y(x)-y(x-1)).attr("height",a-f-c).attr("fill",k=>k),d=ge(O,(k,x)=>x),l=k=>z(O[k],k)}else y=M(ri().domain(T),[s,i-o]),m.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",y).attr("y",f).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-f-c).attr("fill",L),$=()=>{};return m.append("g").attr("transform",`translate(0,${a-c})`).call(a0(y).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",be(h,"normal")).call($).call(O=>O.select(".domain").remove()),t!==void 0&&m.append("text").attr("x",s).attr("y",f-6).attr("fill","currentColor").attr("font-weight","bold").text(t),m.node()}const rd=Math.PI/180;function id(e,{marker:n,markerStart:t=n,markerMid:r=n,markerEnd:i=n}={}){e.markerStart=_i(t),e.markerMid=_i(r),e.markerEnd=_i(i)}function _i(e){if(e==null||e===!1)return null;if(e===!0)return qo;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Po("auto");case"arrow-reverse":return Po("auto-start-reverse");case"dot":return Hm;case"circle":case"circle-fill":return qo;case"circle-stroke":return jm;case"tick":return Vi("auto");case"tick-x":return Vi(90);case"tick-y":return Vi(0)}throw new Error(`invalid marker: ${e}`)}function Po(e){return(n,t)=>ve("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Hm(e,n){return ve("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function qo(e,n){return ve("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function jm(e,n){return ve("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function Vi(e){return(n,t)=>ve("svg:marker",t).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let _m=0;function ad(e,n,{stroke:t},r){return Vm(e,n,t&&(i=>t[i]),r)}function Vm(e,{markerStart:n,markerMid:t,markerEnd:r,stroke:i},a=()=>i,f){const o=new Map;function c(s){return function(u){const d=a(u);let l=o.get(s);l||o.set(s,l=new Map);let h=l.get(d);if(!h){const p=this.parentNode.insertBefore(s(d,f),this),g=`plot-marker-${++_m}`;p.setAttribute("id",g),l.set(d,h=`url(#${g})`)}return h}}n&&e.attr("marker-start",c(n)),t&&e.attr("marker-mid",c(t)),r&&e.attr("marker-end",c(r))}function fd({inset:e,insetLeft:n,insetRight:t,...r}={}){return[n,t]=cd(e,n,t),{inset:e,insetLeft:n,insetRight:t,...r}}function od({inset:e,insetTop:n,insetBottom:t,...r}={}){return[n,t]=cd(e,n,t),{inset:e,insetTop:n,insetBottom:t,...r}}function cd(e,n,t){return e===void 0&&n===void 0&&t===void 0?Se?[1,0]:[.5,.5]:[n,t]}function ud(e,{interval:n}){return e={...si(e)},e.interval=rf(e.interval===void 0?n:e.interval),e}function sd(e,n,t,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:f}=t,{value:o,interval:c}=ud(i,t);if(o==null||c==null&&!r)return t;const s=Jt(i);if(c==null){let h;const p={transform:g=>h||(h=Fe(g,o)),label:s};return{...t,[e]:void 0,[`${e}1`]:a===void 0?p:a,[`${e}2`]:f===void 0&&!(a===f&&r)?p:f}}let u,d;function l(h){return d!==void 0&&h===u?d:d=ge(Fe(u=h,o),p=>c.floor(p))}return n({...t,[e]:void 0,[`${e}1`]:a===void 0?{transform:l,label:s}:a,[`${e}2`]:f===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:s}:f})}function ld(e,n,t){const{[e]:r}=t,{value:i,interval:a}=ud(r,t);return i==null||a==null?t:n({...t,[e]:{label:Jt(r),transform:f=>{const o=ge(Fe(f,i),s=>a.floor(s)),c=o.map(s=>a.offset(s));return o.map(Oe(o)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function dd(e={}){return sd("x",fd,e)}function Xm(e={}){return sd("y",od,e)}function Gm(e={}){return ld("x",fd,e)}function Zm(e={}){return ld("y",od,e)}const hd={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Km extends nn{constructor(n,t={}){const{x:r,y1:i,y2:a,inset:f=0,insetTop:o=f,insetBottom:c=f}=t;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},gf(t,"x"),hd),this.insetTop=ce(o),this.insetBottom=ce(c),id(this,t)}render(n,t,r,i,a){const{x:f,y:o}=t,{x:c,y1:s,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetTop:w,insetBottom:m}=this;return ve("svg:g",a).call(Bn,this,i,a).call(Yn,this,{x:c&&f},Se,0).call($=>$.selectAll().data(n).enter().append("line").call(zn,this).attr("x1",c?y=>c[y]:(g+d-p)/2).attr("x2",c?y=>c[y]:(g+d-p)/2).attr("y1",s&&!ot(o)?y=>s[y]+w:h+w).attr("y2",u&&!ot(o)?o.bandwidth?y=>u[y]+o.bandwidth()-m:y=>u[y]-m:l-b-m).call(st,this,r).call(ad,this,r,a)).node()}}class Qm extends nn{constructor(n,t={}){const{x1:r,x2:i,y:a,inset:f=0,insetRight:o=f,insetLeft:c=f}=t;super(n,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},gf(t,"y"),hd),this.insetRight=ce(o),this.insetLeft=ce(c),id(this,t)}render(n,t,r,i,a){const{x:f,y:o}=t,{y:c,x1:s,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetLeft:w,insetRight:m}=this;return ve("svg:g",a).call(Bn,this,i,a).call(Yn,this,{y:c&&o},0,Se).call($=>$.selectAll().data(n).enter().append("line").call(zn,this).attr("x1",s&&!ot(f)?y=>s[y]+w:g+w).attr("x2",u&&!ot(f)?f.bandwidth?y=>u[y]+f.bandwidth()-m:y=>u[y]-m:d-p-m).attr("y1",c?y=>c[y]:(h+l-b)/2).attr("y2",c?y=>c[y]:(h+l-b)/2).call(st,this,r).call(ad,this,r,a)).node()}}function pd(e,n){let{x:t=Pe,y:r,y1:i,y2:a,...f}=Xm(n);return[i,a]=gd(r,i,a),new Km(e,{...f,x:t,y1:i,y2:a})}function Jm(e,n){let{y:t=Pe,x:r,x1:i,x2:a,...f}=dd(n);return[i,a]=gd(r,i,a),new Qm(e,{...f,y:t,x1:i,x2:a})}function gd(e,n,t){if(e==null){if(n===void 0){if(t!==void 0)return[0,t]}else if(t===void 0)return[0,n]}else{if(n===void 0)return t===void 0?[0,e]:[e,t];if(t===void 0)return[e,n]}return[n,t]}function md(e,...n){let t=n.length;for(let r=0,i=!0;r<t;++r)typeof n[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+n[r]+e[r+1]),n.splice(r,1),--r,--t);return r=>{let i=e[0];for(let a=0;a<t;++a)i+=n[a](r)+e[a+1];return i}}const eb={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},bd="";class bf extends nn{constructor(n,t={}){const{x:r,y:i,text:a=Wn(n)&&Ml(n)?Pe:gl,frameAnchor:f,textAnchor:o=/right$/i.test(f)?"end":/left$/i.test(f)?"start":"middle",lineAnchor:c=/^top/i.test(f)?"top":/^bottom/i.test(f)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:b,fontWeight:w,rotate:m}=t,[$,y]=Te(m,0),[M,v]=fb(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:Fp($),optional:!0},text:{value:a,filter:il,optional:!0}},t,eb),this.rotate=y,this.textAnchor=be(o,"middle"),this.lineAnchor=je(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=yd(d),this.monospace=!!l,this.fontFamily=we(h),this.fontSize=v,this.fontStyle=we(g),this.fontVariant=we(b),this.fontWeight=we(w),this.frameAnchor=af(f),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=vd(this),this.clipLine=Md(this)}render(n,t,r,i,a){const{x:f,y:o}=t,{x:c,y:s,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,b]=hi(this,i);return ve("svg:g",a).call(Bn,this,i,a).call(wd,this,d,i).call(Yn,this,{x:c&&f,y:s&&o}).call(w=>w.selectAll().data(n).enter().append("text").call(zn,this).call(nb,this,d,l).attr("transform",md`translate(${c?m=>c[m]:g},${s?m=>s[m]:b})${u?m=>` rotate(${u[m]})`:p?` rotate(${p})`:""}`).call(K,"font-size",h&&(m=>h[m])).call(st,this,r)).node()}}function yd(e){return e==null?null:je(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function nb(e,n,t,r){if(!t)return;const{lineAnchor:i,lineHeight:a,textOverflow:f,splitLines:o,clipLine:c}=n;e.each(function(s){const u=o(ft(t[s])??"").map(c),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!u[p])continue;const g=this.ownerDocument.createElementNS(xr.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=u[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=u[0];if(f&&!r&&u[0]!==t[s]){const h=this.ownerDocument.createElementNS(xr.svg,"title");h.textContent=t[s],this.appendChild(h)}})}function yf(e,{x:n,y:t,...r}={}){return r.frameAnchor===void 0&&([n,t]=wl(n,t)),new bf(e,{...r,x:n,y:t})}function tb(e,{x:n=Pe,...t}={}){return new bf(e,Zm({...t,x:n}))}function rb(e,{y:n=Pe,...t}={}){return new bf(e,Gm({...t,y:n}))}function wd(e,n,t){K(e,"text-anchor",n.textAnchor),K(e,"font-family",n.fontFamily),K(e,"font-size",n.fontSize),K(e,"font-style",n.fontStyle),K(e,"font-variant",n.fontVariant===void 0?ib(t):n.fontVariant),K(e,"font-weight",n.fontWeight)}function ib(e){return e&&(Pp(e)||Oe(e))?"tabular-nums":void 0}const ab=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function fb(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),ab.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function ob(e,n,t){const r=[];let i,a=0;for(const[f,o,c]of cb(e)){if(i===void 0&&(i=f),a>i&&t(e,i,o)>n&&(r.push(e.slice(i,a)+(e[a-1]===bd?"-":"")),i=f),c){r.push(e.slice(i,o)),i=void 0;continue}a=o}return r}function*cb(e){let n=0,t=0;const r=e.length;for(;t<r;){let i=1;switch(e[t]){case bd:case"-":++t,yield[n,t,!1],n=t;break;case" ":for(yield[n,t,!1];e[++t]===" ";);n=t;break;case"\r":e[t+1]===`
`&&++i;case`
`:yield[n,t,!0],t+=i,n=t;break;default:++t;break}}yield[n,t,!0]}const Wo={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function wf(e,n=0,t=e.length){let r=0;for(let i=n;i<t;i=lt(e,i))r+=Wo[e[i]]??(xd(e,i)?120:Wo.e);return r}function vf(e,n=0,t=e.length){let r=0;for(let i=n;i<t;i=lt(e,i))r+=xd(e,i)?126:63;return r}function vd({monospace:e,lineWidth:n,textOverflow:t}){if(t!=null||n==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?vf:wf,i=n*100;return a=>ob(a,i,r)}function Md({monospace:e,lineWidth:n,textOverflow:t}){if(t==null||n==1/0)return a=>a;const r=e?vf:wf,i=n*100;switch(t){case"clip-start":return a=>zo(a,i,r,"");case"clip-end":return a=>Bo(a,i,r,"");case"ellipsis-start":return a=>zo(a,i,r,Jn);case"ellipsis-middle":return a=>ub(a,i,r,Jn);case"ellipsis-end":return a=>Bo(a,i,r,Jn)}}const Jn="";function ct(e,n,t,r){const i=[];let a=0;for(let f=0,o=0,c=e.length;f<c;f=o){o=lt(e,f);const s=t(e,f,o);if(a+s>n){for(a+=r;a>n&&f>0;)o=f,f=i.pop(),a-=t(e,f,o);return[f,n-a]}a+=s,i.push(f)}return[-1,0]}function Bo(e,n,t,r){e=e.trim();const i=t(r),[a]=ct(e,n,t,i);return a<0?e:e.slice(0,a).trimEnd()+r}function ub(e,n,t,r){e=e.trim();const i=t(e);if(i<=n)return e;const a=t(r)/2,[f,o]=ct(e,n/2,t,a),[c]=ct(e,i-n/2-o+a,t,-a);return c<0?r:e.slice(0,f).trimEnd()+r+e.slice(lt(e,c)).trimStart()}function zo(e,n,t,r){e=e.trim();const i=t(e);if(i<=n)return e;const a=t(r),[f]=ct(e,i-n+a,t,-a);return f<0?r:r+e.slice(lt(e,f)).trimStart()}const Fa=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Yo=/\p{Extended_Pictographic}/uy;function lt(e,n){return n+=sb(e,n)?2:1,db(e,n)&&(n=Fa.lastIndex),lb(e,n)?lt(e,n+1):n}function $d(e,n){return e.charCodeAt(n)<128}function sb(e,n){const t=e.charCodeAt(n);if(t>=55296&&t<56320){const r=e.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function lb(e,n){return e.charCodeAt(n)===8205}function db(e,n){return $d(e,n)?!1:(Fa.lastIndex=n,Fa.test(e))}function xd(e,n){return $d(e,n)?!1:(Yo.lastIndex=n,Yo.test(e))}const hb={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Td=3.5,pb=Td*5,Sd={draw(e,n,t){const r=n*t/pb;e.moveTo(0,0),e.lineTo(0,-n),e.moveTo(-r,r-n),e.lineTo(0,-n),e.lineTo(r,r-n)}},gb={draw(e,n,t){e.moveTo(-t,0),e.lineTo(0,-n),e.lineTo(t,0)}},mb=new Map([["arrow",Sd],["spike",gb]]);function bb(e){return e&&typeof e.draw=="function"}function yb(e){if(bb(e))return e;const n=mb.get(`${e}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${e}`)}class Cd extends nn{constructor(n,t={}){const{x:r,y:i,r:a=Td,length:f,rotate:o,shape:c=Sd,anchor:s="middle",frameAnchor:u}=t,[d,l]=Te(f,12),[h,p]=Te(o,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},t,hb),this.r=+a,this.length=l,this.rotate=p,this.shape=yb(c),this.anchor=je(s,"anchor",["start","middle","end"]),this.frameAnchor=af(u)}render(n,t,r,i,a){const{x:f,y:o}=t,{x:c,y:s,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:b}=this,[w,m]=hi(this,i);return ve("svg:g",a).call(Bn,this,i,a).call(Yn,this,{x:c&&f,y:s&&o}).call($=>$.selectAll().data(n).enter().append("path").call(zn,this).attr("transform",md`translate(${c?y=>c[y]:w},${s?y=>s[y]:m})${d?y=>` rotate(${d[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${l})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${l/2})`}`).attr("d",u?y=>{const M=Ji();return g.draw(M,u[y],b),M}:(()=>{const y=Ji();return g.draw(y,l,b),y})()).call(st,this,r)).node()}}function wb(e,n={}){const{x:t=Pe,...r}=n;return new Cd(e,{...r,x:t})}function vb(e,n={}){const{y:t=Pe,...r}=n;return new Cd(e,{...r,y:t})}function Tn(e,n){return arguments.length<2&&!Wn(e)&&(n=e,e=null),n===void 0&&(n={}),[e,n]}function bi({anchor:e}={},n){return e===void 0?n[0]:je(e,"anchor",n)}function Ad(e){return bi(e,["left","right"])}function Ed(e){return bi(e,["right","left"])}function Dd(e){return bi(e,["bottom","top"])}function Ld(e){return bi(e,["top","bottom"])}function Id(){const[e,n]=Tn(...arguments);return Rd("y",Ad(n),e,n)}function Mb(){const[e,n]=Tn(...arguments);return Rd("fy",Ed(n),e,n)}function Nd(){const[e,n]=Tn(...arguments);return kd("x",Dd(n),e,n)}function $b(){const[e,n]=Tn(...arguments);return kd("fx",Ld(n),e,n)}function Rd(e,n,t,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:f=i,strokeWidth:o=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:g,tickRotate:b,x:w,margin:m,marginTop:$=m===void 0?20:m,marginRight:y=m===void 0?n==="right"?40:0:m,marginBottom:M=m===void 0?20:m,marginLeft:v=m===void 0?n==="left"?40:0:m,label:T,labelAnchor:D,labelArrow:C,labelOffset:L,...E}){return p=ce(p),g=ce(g),b=ce(b),D!==void 0&&(D=je(D,"labelAnchor",["center","top","bottom"])),C=zd(C),Ql(p&&!Me(a)?xb(e,n,t,{stroke:a,strokeOpacity:f,strokeWidth:o,tickSize:p,tickPadding:g,tickRotate:b,x:w,...E}):null,Me(c)?null:Sb(e,n,t,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:b,x:w,marginTop:$,marginRight:y,marginBottom:M,marginLeft:v,...E}),!Me(c)&&T!==null?yf([],Pd({fill:c,fillOpacity:s,...E},function(O,z,k,x,N){const G=x[e],{marginTop:j,marginRight:I,marginBottom:P,marginLeft:q}=e==="y"&&N.inset||N,R=D??(G.bandwidth?"center":"top"),B=L??(n==="right"?I:q)-3;return R==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=R,this.frameAnchor=`${R}-${n}`,this.rotate=0),this.dy=R==="top"?3-j:R==="bottom"?P-3:0,this.dx=n==="right"?B:-B,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Bd(e,G,{anchor:n,label:T,labelAnchor:R,labelArrow:C})]}}}})):null)}function kd(e,n,t,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:f=i,strokeWidth:o=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:g,tickRotate:b,y:w,margin:m,marginTop:$=m===void 0?n==="top"?30:0:m,marginRight:y=m===void 0?20:m,marginBottom:M=m===void 0?n==="bottom"?30:0:m,marginLeft:v=m===void 0?20:m,label:T,labelAnchor:D,labelArrow:C,labelOffset:L,...E}){return p=ce(p),g=ce(g),b=ce(b),D!==void 0&&(D=je(D,"labelAnchor",["center","left","right"])),C=zd(C),Ql(p&&!Me(a)?Tb(e,n,t,{stroke:a,strokeOpacity:f,strokeWidth:o,tickSize:p,tickPadding:g,tickRotate:b,y:w,...E}):null,Me(c)?null:Cb(e,n,t,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:b,y:w,marginTop:$,marginRight:y,marginBottom:M,marginLeft:v,...E}),!Me(c)&&T!==null?yf([],Pd({fill:c,fillOpacity:s,...E},function(O,z,k,x,N){const G=x[e],{marginTop:j,marginRight:I,marginBottom:P,marginLeft:q}=e==="x"&&N.inset||N,R=D??(G.bandwidth?"center":"right"),B=L??(n==="top"?j:P)-3;return R==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${R}`,this.textAnchor=R==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-B:B,this.dx=R==="right"?I-3:R==="left"?3-q:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Bd(e,G,{anchor:n,label:T,labelAnchor:R,labelArrow:C})]}}}})):null)}function xb(e,n,t,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:f=n+(e==="y"?"-empty":""),frameAnchor:o=n,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:d=s,dx:l=0,y:h=e==="y"?void 0:null,...p}){return dt(vb,e,n,`${e}-axis tick`,t,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:f,frameAnchor:o,y:h,...p,dx:n==="left"?+l-Se+ +u:+l+Se-d,anchor:"start",length:c,shape:n==="left"?kb:Fb})}function Tb(e,n,t,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:f=n+(e==="x"?"-empty":""),frameAnchor:o=n,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:d=s,dy:l=0,x:h=e==="x"?void 0:null,...p}){return dt(wb,e,n,`${e}-axis tick`,t,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:f,frameAnchor:o,x:h,...p,dy:n==="bottom"?+l-Se-d:+l+Se+ +u,anchor:"start",length:c,shape:n==="bottom"?Nb:Rb})}function Sb(e,n,t,{facetAnchor:r=n+(e==="y"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:f=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(f)>60?4*Math.cos(f*rd):0),text:c,textAnchor:s=Math.abs(f)>60?"middle":n==="left"?"end":"start",lineAnchor:u=f>60?"top":f<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,y:b=e==="y"?void 0:null,...w}){return dt(rb,e,n,`${e}-axis tick label`,t,{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:f,y:b,...w,dx:n==="left"?+g-a-o+ +h:+g+ +a+ +o-p},function(m,$,y,M,v){d===void 0&&(this.fontVariant=Wd(m)),c===void 0&&(v.text=qd(m,$,y,M,n))})}function Cb(e,n,t,{facetAnchor:r=n+(e==="x"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:f=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(f)>=10?4*Math.cos(f*rd):0),text:c,textAnchor:s=Math.abs(f)>=10?f<0^n==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(f)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:b=e==="x"?void 0:null,...w}){return dt(tb,e,n,`${e}-axis tick label`,t,{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:f,x:b,...w,dy:n==="bottom"?+g+ +a+ +o-p:+g-a-o+ +h},function(m,$,y,M,v){d===void 0&&(this.fontVariant=Wd(m)),c===void 0&&(v.text=qd(m,$,y,M,n))})}function Ab(){const[e,n]=Tn(...arguments);return Fd("y",Ad(n),e,n)}function Eb(){const[e,n]=Tn(...arguments);return Fd("fy",Ed(n),e,n)}function Db(){const[e,n]=Tn(...arguments);return Ud("x",Dd(n),e,n)}function Lb(){const[e,n]=Tn(...arguments);return Ud("fx",Ld(n),e,n)}function Fd(e,n,t,{y:r=e==="y"?void 0:null,x:i=null,x1:a=n==="left"?i:null,x2:f=n==="right"?i:null,...o}){return dt(Jm,e,n,`${e}-grid`,t,{y:r,x1:a,x2:f,...Od(o)})}function Ud(e,n,t,{x:r=e==="x"?void 0:null,y:i=null,y1:a=n==="top"?i:null,y2:f=n==="bottom"?i:null,...o}){return dt(pd,e,n,`${e}-grid`,t,{x:r,y1:a,y2:f,...Od(o)})}function Od({color:e="currentColor",opacity:n=.1,stroke:t=e,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:t,strokeOpacity:r,strokeWidth:i,...a}}function Pd({fill:e,fillOpacity:n,fontFamily:t,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:f,monospace:o,pointerEvents:c,shapeRendering:s,clip:u=!1},d){return[,e]=Fn(e),[,n]=Te(n),{facet:"super",x:null,y:null,fill:e,fillOpacity:n,fontFamily:t,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:f,monospace:o,pointerEvents:c,shapeRendering:s,clip:u,initializer:d}}function dt(e,n,t,r,i,a,f){let o;function c(d,l,h,p,g,b){const w=d==null&&(n==="fx"||n==="fy"),{[n]:m}=p;if(!m)throw new Error(`missing scale: ${n}`);const $=m.domain();let{interval:y,ticks:M,tickFormat:v,tickSpacing:T=n==="x"?80:35}=a;if(typeof M=="string"&&Yd(m)&&(y=M,M=void 0),M===void 0&&(M=er(y,m.type)??Ib(m,T)),d==null){if(Wn(M))d=Ae(M);else if(kp(M))d=Xi(M,...vn($));else if(m.interval){let C=m.interval;if(m.ticks){const[L,E]=vn($),O=(E-L)/C[Kt];C=uo(C,O/M)??C,d=Xi(C,L,E)}else{d=$;const L=d.length;C=uo(C,L/M)??C,C!==m.interval&&(d=Xi(C,...vn(d)))}if(C===m.interval){const L=Math.round(d.length/M);L>1&&(d=d.filter((E,O)=>O%L===0))}}else m.ticks?d=m.ticks(M):d=$;if(!m.ticks&&d.length&&d!==$){const C=new Jr($);d=d.filter(L=>C.has(L)),d.length||An(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?l=[$n(d)]:o[n]={scale:n,value:Pe}}f?.call(this,m,d,M,v,o);const D=Object.fromEntries(Object.entries(o).map(([C,L])=>[C,{...L,value:Fe(d,L.value)}]));return w&&(l=b.filterFacets(d,D)),{data:d,facets:l,channels:D}}const s=jr(a).initializer,u=e(i,jr({...a,initializer:c},s));return i==null?(o=u.channels,u.channels={}):o={},u.ariaLabel=r,u.clip===void 0&&(u.clip=!1),u}function Ib(e,n){const[t,r]=vn(e.range());return(r-t)/n}function qd(e,n,t,r,i){return{value:Mf(e,n,t,r,i)}}function Mf(e,n,t,r,i){return typeof r=="function"?r:r===void 0&&n&&Oe(n)?gp(e.type,n,i)??ft:e.tickFormat?e.tickFormat(typeof t=="number"?t:null,r):r===void 0?ft:typeof r=="string"?(Oe(e.domain())?Zt:Gr)(r):Qt(r)}function Xi(e,n,t){return e.range(n,e.offset(e.floor(t)))}const Nb={draw(e,n){e.moveTo(0,0),e.lineTo(0,n)}},Rb={draw(e,n){e.moveTo(0,0),e.lineTo(0,-n)}},kb={draw(e,n){e.moveTo(0,0),e.lineTo(-n,0)}},Fb={draw(e,n){e.moveTo(0,0),e.lineTo(n,0)}};function Wd(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function Bd(e,n,{anchor:t,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Yd(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!a)return r;if(a===!0){const f=bm(n);f&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===f<0?"left":"right":f<0?"up":"down")}switch(a){case"left":return` ${r}`;case"right":return`${r} `;case"up":return t==="right"?`${r} `:` ${r}`;case"down":return t==="right"?`${r} `:` ${r}`}return r}}function zd(e="auto"){return Me(e)?!1:typeof e=="boolean"?e:je(e,"labelArrow",["auto","up","right","down","left"])}function Yd(e){return Oe(e.domain())}function Ho(e,n){if(n==null)return n;const t=e(n);if(!t)throw new Error(`scale not found: ${n}`);return t}function Ub(e,{opacity:n,...t}={}){if(!Hn(e)&&!Kl(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Hd(e,t,(r,i,a,f)=>r.append("svg").attr("width",a).attr("height",f).attr("fill",i.scale).attr("fill-opacity",Te(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Ob(e,{fill:n=e.hint?.fill!==void 0?e.hint.fill:"none",fillOpacity:t=1,stroke:r=e.hint?.stroke!==void 0?e.hint.stroke:Me(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:f=4.5,...o}={},c){const[s,u]=Fn(n),[d,l]=Fn(r),h=Ho(c,s),p=Ho(c,d),g=f*f*Math.PI;return t=Te(t)[1],i=Te(i)[1],a=Te(a)[1],Hd(e,o,(b,w,m,$)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",m).attr("height",$).attr("fill",s==="color"?y=>h.scale(y):u).attr("fill-opacity",t).attr("stroke",d==="color"?y=>p.scale(y):l).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",y=>{const M=Ji();return e.scale(y).draw(M,g),M}))}function Hd(e,n={},t){let{columns:r,tickFormat:i,fontVariant:a=td(e),swatchSize:f=15,swatchWidth:o=f,swatchHeight:c=f,marginLeft:s=0,className:u,style:d,width:l}=n;const h=uf(n);u=of(u),i=Mf(e.scale,e.domain,void 0,i);const p=ve("div",h).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${u}-swatch`).call(t,e,o,c).call(b=>b.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${u}-swatch`).call(t,e,o,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",be(a,"normal")).call(cf,d).node()}const Ua=new Map([["symbol",Ob],["color",_d],["opacity",qb]]);function Pb(e,n,t={}){return(r,i)=>{if(!Ua.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Ua.get(r)(e[r],jd(n,t[r],i),a=>e[a])}}function jd({className:e,...n},{label:t,ticks:r,tickFormat:i}={},a){return zp(a,{className:e,...n},{label:t,ticks:r,tickFormat:i})}function _d(e,{legend:n=!0,...t}){if(n===!0&&(n=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return Ub(e,t);case"ramp":return Ym(e,t);default:throw new Error(`unknown legend type: ${n}`)}}function qb({type:e,interpolate:n,...t},{legend:r=!0,color:i=$r(0,0,0),...a}){if(!n)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return _d({type:e,...t,interpolate:Wb(i)},{legend:r,...a})}function Wb(e){const{r:n,g:t,b:r}=$r(e)||$r(0,0,0);return i=>`rgba(${n},${t},${r},${i})`}function Bb(e,n,t){const r=[];for(const[i,a]of Ua){const f=t[i];if(f?.legend&&i in e){const o=a(e[i],jd(n,e[i],f),c=>e[c]);o!=null&&r.push(o)}}return r}const zb={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Yb={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Hb extends nn{constructor(n={}){const{anchor:t=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:f=r,insetLeft:o=r,rx:c,ry:s}=n;super(Mr,void 0,n,t==null?zb:Yb),this.anchor=bl(t,"anchor",["top","right","bottom","left"]),this.insetTop=ce(i),this.insetRight=ce(a),this.insetBottom=ce(f),this.insetLeft=ce(o),this.rx=ce(c),this.ry=ce(s)}render(n,t,r,i,a){const{marginTop:f,marginRight:o,marginBottom:c,marginLeft:s,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:b,rx:w,ry:m}=this,$=s+b,y=u-o-p,M=f+h,v=d-c-g;return ve(l?"svg:line":"svg:rect",a).datum(0).call(Bn,this,i,a).call(zn,this).call(st,this,r).call(Yn,this,{}).call(l==="left"?T=>T.attr("x1",$).attr("x2",$).attr("y1",M).attr("y2",v):l==="right"?T=>T.attr("x1",y).attr("x2",y).attr("y1",M).attr("y2",v):l==="top"?T=>T.attr("x1",$).attr("x2",y).attr("y1",M).attr("y2",M):l==="bottom"?T=>T.attr("x1",$).attr("x2",y).attr("y1",v).attr("y2",v):T=>T.attr("x",$).attr("y",M).attr("width",y-$).attr("height",v-M).attr("rx",w).attr("ry",m)).node()}}function jb(e){return new Hb(e)}const Gi={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},_b=new Set(["geometry","href","src","ariaLabel","scales"]);class Vb extends nn{constructor(n,t={}){t.tip&&(t={...t,tip:!1}),t.title===void 0&&Wn(n)&&Ml(n)&&(t={...t,title:Pe});const{x:r,y:i,x1:a,x2:f,y1:o,y2:c,anchor:s,preferredAnchor:u="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:b,lineHeight:w=1,lineWidth:m=20,frameAnchor:$,format:y,textAnchor:M="start",textOverflow:v,textPadding:T=8,title:D,pointerSize:C=12,pathFilter:L="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=t;super(n,{x:{value:a!=null&&f!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:f==null},y1:{value:o,scale:"y",optional:c==null},x2:{value:f,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:o==null},title:{value:D,optional:!0}},t,Gi),this.anchor=Da(s,"anchor"),this.preferredAnchor=Da(u,"preferredAnchor"),this.frameAnchor=af($),this.textAnchor=be(M,"middle"),this.textPadding=+T,this.pointerSize=+C,this.pathFilter=we(L),this.lineHeight=+w,this.lineWidth=+m,this.textOverflow=yd(v),this.monospace=!!d,this.fontFamily=we(l),this.fontSize=ce(h),this.fontStyle=we(p),this.fontVariant=we(g),this.fontWeight=we(b);for(const E in Gi)E in this.channels&&(this[E]=Gi[E]);this.splitLines=vd(this),this.clipLine=Md(this),this.format={...y}}render(n,t,r,i,a){const f=this,{x:o,y:c,fx:s,fy:u}=t,{ownerSVGElement:d,document:l}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:b}=this,{textPadding:w,pointerSize:m,pathFilter:$}=this,{marginTop:y,marginLeft:M}=i,{x1:v,y1:T,x2:D,y2:C,x:L=v??D,y:E=T??C}=r,O=s?s(n.fx)-M:0,z=u?u(n.fy)-y:0,[k,x]=hi(this,i),N=ed(r,k),G=nd(r,x),j=p?vf:wf,I=j(Jn);let P,q;"title"in r?(P=r.channels,q=Jb):(P=Qb.call(this,r,t),q=e2);const R=ve("svg:g",a).call(Bn,this,i,a).call(wd,this).call(Yn,this,{x:L&&o,y:E&&c}).call(Q=>Q.selectAll().data(n).enter().append("g").attr("transform",J=>`translate(${Math.round(N(J))},${Math.round(G(J))})`).call(zn,this).call(J=>J.append("path").attr("filter",$)).call(J=>J.append("text").each(function(F){const ne=Ct(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const A=q.call(f,F,n,P,t,r);if(typeof A=="string")for(const U of f.splitLines(A))B(ne,{value:f.clipLine(U)});else{const U=new Set;for(const W of A){const{label:S=""}=W;S&&U.has(S)||(U.add(S),B(ne,W))}}})));function B(Q,{label:J,value:F,color:ne,opacity:A}){J??="",F??="";const U=ne!=null||A!=null;let W,S=b*100;const[ie]=ct(J,S,j,I);if(ie>=0)J=J.slice(0,ie).trimEnd()+Jn,W=F.trim(),F="";else{(J||!F&&!U)&&(F=" "+F);const[fe]=ct(F,S-j(J),j,I);fe>=0&&(W=F.trim(),F=F.slice(0,fe).trimEnd()+Jn)}const Y=Q.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");J&&Y.append("tspan").attr("font-weight","bold").text(J),F&&Y.append(()=>l.createTextNode(F)),U&&Y.append("tspan").text(" ").attr("fill",ne).attr("fill-opacity",A).style("user-select","none"),W&&Y.append("title").text(W)}function te(){const{width:Q,height:J}=i.facet??i;R.selectChildren().each(function(F){let{x:ne,width:A,height:U}=this.getBBox();A=Math.round(A),U=Math.round(U);let W=h;if(W===void 0){const Y=N(F)+O,fe=G(F)+z,le=Y+A+m+w*2<Q,xe=Y-A-m-w*2>0,jn=fe+U+m+w*2<J,ht=fe-U-m-w*2>0;W=le&&xe?jn&&ht?f.preferredAnchor:ht?"bottom":"top":jn&&ht?le?"left":"right":(le||xe)&&(jn||ht)?`${ht?"bottom":"top"}-${le?"left":"right"}`:f.preferredAnchor}const S=this.firstChild,ie=this.lastChild;if(S.setAttribute("d",Kb(W,m,w,A,U)),ne)for(const Y of ie.childNodes)Y.setAttribute("x",-ne);ie.setAttribute("y",`${+Gb(W,ie.childNodes.length,g).toFixed(6)}em`),ie.setAttribute("transform",`translate(${Zb(W,m,w,A,U)})`)}),R.attr("visibility",null)}return n.length&&(R.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(te):typeof requestAnimationFrame<"u"&&requestAnimationFrame(te)),R.node()}}function Xb(e,{x:n,y:t,...r}={}){return r.frameAnchor===void 0&&([n,t]=wl(n,t)),new Vb(e,{...r,x:n,y:t})}function Gb(e,n,t){return/^top(?:-|$)/.test(e)?.94-t:-.29-n*t}function Zb(e,n,t,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[t,n+t];case"top":return[-r/2,n/2+t];case"top-right":return[-r-t,n+t];case"right":return[-n/2-r-t,i/2];case"bottom-left":return[t,-n-t];case"bottom":return[-r/2,-n/2-t];case"bottom-right":return[-r-t,-n-t];case"left":return[t+n/2,i/2]}}function Kb(e,n,t,r,i){const a=r+t*2,f=i+t*2;switch(e){case"middle":return`M${-a/2},${-f/2}h${a}v${f}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${f}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${f}h${-a}v${-f}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${f}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-f/2}h${-a}v${f}h${a}v${n/2-f/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-f}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-f}h${-a}v${f}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-f}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-f/2}h${a}v${f}h${-a}v${n/2-f/2}z`}}function Qb({channels:e},n){const t={};let r=this.format;r=jo(r,e,"x"),r=jo(r,e,"y"),this.format=r;for(const i in r){const a=r[i];if(!(a===null||a===!1))if(i==="fx"||i==="fy")t[i]=!0;else{const f=vo(e,i);f&&(t[i]=f)}}for(const i in e){if(i in t||i in r||_b.has(i))continue;const a=vo(e,i);a&&(t[i]=a)}this.facet&&(n.fx&&!("fx"in r)&&(t.fx=!0),n.fy&&!("fy"in r)&&(t.fy=!0));for(const i in t){const a=this.format[i];if(typeof a=="string"){const f=t[i]?.value??n[i]?.domain()??[];this.format[i]=(Oe(f)?Zt:Gr)(a)}else if(a===void 0||a===!0){const f=n[i];this.format[i]=f?.bandwidth?Mf(f,f.domain()):ft}}return t}function jo(e,n,t){if(!(t in e))return e;const r=`${t}1`,i=`${t}2`;if((r in e||!(r in n))&&(i in e||!(i in n)))return e;const a=Object.entries(e),f=e[t];return a.splice(a.findIndex(([o])=>o===t)+1,0,[r,f],[i,f]),Object.fromEntries(a)}function Jb(e,n,{title:t}){return ft(t.value[e],e)}function*e2(e,n,t,r,i){for(const a in t){if(a==="fx"||a==="fy"){yield{label:_r(r,t,a),value:this.format[a](n[a],e)};continue}if(a==="x1"&&"x2"in t||a==="y1"&&"y2"in t)continue;const f=t[a];if(a==="x2"&&"x1"in t)yield{label:Vo(r,t,"x"),value:_o(this.format.x2,t.x1,f,e)};else if(a==="y2"&&"y1"in t)yield{label:Vo(r,t,"y"),value:_o(this.format.y2,t.y1,f,e)};else{const o=f.value[e],c=f.scale;if(!kn(o)&&c==null)continue;yield{label:_r(r,t,a),value:this.format[a](o,e),color:c==="color"?i[a][e]:null,opacity:c==="opacity"?i[a][e]:null}}}}function _o(e,n,t,r){return t.hint?.length?`${e(t.value[r]-n.value[r],r)}`:`${e(n.value[r],r)}${e(t.value[r],r)}`}function Vo(e,n,t){const r=_r(e,n,`${t}1`,t),i=_r(e,n,`${t}2`,t);return r===i?r:`${r}${i}`}function _r(e,n,t,r=t){const i=n[t],a=e[i?.scale??t];return String(a?.label??i?.label??r)}function Vd(e={}){const{facet:n,style:t,title:r,subtitle:i,caption:a,ariaLabel:f,ariaDescription:o}=e,c=of(e.className),s=e.marks===void 0?[]:Go(e.marks);s.push(...c2(s));const u=f2(n,e),d=new Map;for(const I of s){const P=Zo(I,u,e);P&&d.set(I,P)}const l=new Map;u&&wt(l,[u],e),wt(l,d,e);const h=Go(u2(s,l,e));for(const I of h){const P=Zo(I,u,e);P&&d.set(I,P)}s.unshift(...h);let p=Am(l,e);if(p!==void 0){const I=u?ji(p,u):void 0;for(const q of s){if(q.facet===null||q.facet==="super")continue;const R=d.get(q);R!==void 0&&(R.facetsIndex=q.fx!=null||q.fy!=null?ji(p,R):I)}const P=new Set;for(const{facetsIndex:q}of d.values())q?.forEach((R,B)=>{R?.length>0&&P.add(B)});p.forEach(0<P.size&&P.size<p.length?(q,R)=>q.empty=!P.has(R):q=>q.empty=!1);for(const q of s)if(q.facet==="exclude"){const R=d.get(q);R!==void 0&&(R.facetsIndex=Lm(R.facetsIndex))}}for(const I of se.keys())Aa(e[I])&&I!=="fx"&&I!=="fy"&&l.set(I,[]);const g=new Map;for(const I of s){if(g.has(I))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:P,channels:q}=d.get(I)??{},{data:R,facets:B,channels:te}=I.initialize(P,q,e);$f(te,e),g.set(I,{data:R,facets:B,channels:te})}const b=Ra(wt(l,g,e),e),w=Sm(b,s,e);gm(b,w);const m=Do(b),{fx:$,fy:y}=m,M=$||y?Xl(b,w):w,v=$||y?m2(m,w):w,T=uf(e),D=T.document,C=fc("svg").call(D.documentElement);let L=C;T.ownerSVGElement=C,T.className=c,T.projection=Ag(e,M),T.filterFacets=(I,P)=>ji(p,{channels:P,groups:pf(I,P)}),T.getMarkState=I=>{const P=g.get(I),q=d.get(I);return{...P,channels:{...P.channels,...q?.channels}}},T.dispatchValue=I=>{L.value!==I&&(L.value=I,L.dispatchEvent(new Event("input",{bubbles:!0})))};const E=new Set;for(const[I,P]of g)if(I.initializer!=null){const q=I.facet==="super"?v:M,R=I.initializer(P.data,P.facets,P.channels,m,q,T);if(R.data!==void 0&&(P.data=R.data),R.facets!==void 0&&(P.facets=R.facets),R.channels!==void 0){const{fx:B,fy:te,...Q}=R.channels;a2(Q),Object.assign(P.channels,Q);for(const J of Object.values(Q)){const{scale:F}=J;F!=null&&!Hp(se.get(F))&&(Xd(J,e),E.add(F))}(B!=null||te!=null)&&d.set(I,!0)}}if(E.size){const I=new Map;wt(I,g,e,B=>E.has(B)),wt(l,g,e,B=>E.has(B));const P=g2(Ra(I,e),b),{scales:q,...R}=Do(P);Object.assign(b,P),Object.assign(m,R),Object.assign(m.scales,q)}let O,z;p!==void 0&&(O={x:$?.domain(),y:y?.domain()},p=Em(p,O),z=Dm($,y,w));for(const[I,P]of g)P.values=I.scale(P.channels,m,T);const{width:k,height:x}=w;Ct(C).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",k).attr("height",x).attr("viewBox",`0 0 ${k} ${x}`).attr("aria-label",f).attr("aria-description",o).call(I=>I.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(cf,t);for(const I of s){const{channels:P,values:q,facets:R}=g.get(I);if(p===void 0||I.facet==="super"){let B=null;if(R&&(B=R[0],B=I.filter(B,P,q),B.length===0))continue;const te=I.render(B,m,q,v,T);if(te==null)continue;C.appendChild(te)}else{let B;for(const te of p){if(!(I.facetAnchor?.(p,O,te)??!te.empty))continue;let Q=null;if(R){const F=d.has(I);if(Q=R[F?te.i:0],Q=I.filter(Q,P,q),Q.length===0)continue;!F&&Q===R[0]&&(Q=Dp(Q)),Q.fx=te.x,Q.fy=te.y,Q.fi=te.i}const J=I.render(Q,m,q,M,T);if(J!=null){(B??=Ct(C).append("g")).append(()=>J).datum(te);for(const F of["aria-label","aria-description","aria-hidden","transform"])J.hasAttribute(F)&&(B.attr(F,J.getAttribute(F)),J.removeAttribute(F))}}B?.selectChildren().attr("transform",z)}}const N=Bb(b,T,e),{figure:G=r!=null||i!=null||a!=null||N.length>0}=e;G&&(L=D.createElement("figure"),L.className=`${c}-figure`,L.style.maxWidth="initial",r!=null&&L.append(Xo(D,r,"h2")),i!=null&&L.append(Xo(D,i,"h3")),L.append(...N,C),a!=null&&L.append(n2(D,a))),L.scale=xm(m.scales),L.legend=Pb(b,T,e);const j=yg();return j>0&&Ct(C).append("text").attr("x",k).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${j.toLocaleString("en-US")} warning${j===1?"":"s"}. Please check the console.`),L}function Xo(e,n,t){if(n.ownerDocument)return n;const r=e.createElement(t);return r.append(n),r}function n2(e,n){const t=e.createElement("figcaption");return t.append(n),t}function t2({marks:e=[],...n}={}){return Vd({...n,marks:[...e,this]})}nn.prototype.plot=t2;function Go(e){return e.flat(1/0).filter(n=>n!=null).map(r2)}function r2(e){return typeof e.render=="function"?e:new i2(e)}class i2 extends nn{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function $f(e,n){for(const t in e)Xd(e[t],n);return e}function Xd(e,n){const{scale:t,transform:r=!0}=e;if(t==null||!r)return;const{type:i,percent:a,interval:f,transform:o=a?c=>c*100:vl(f,i)}=n[t]??{};o!=null&&(e.value=ge(e.value,o),e.transform=!1)}function a2(e){for(const n in e)Ll(n,e[n])}function wt(e,n,t,r=vp){for(const{channels:i}of n.values())for(const a in i){const f=i[a],{scale:o}=f;if(o!=null&&r(o))if(o==="projection"){if(!Ig(t)){const c=t.x?.domain===void 0,s=t.y?.domain===void 0;if(c||s){const[u,d]=Rg(f);c&&Zi(e,"x",u),s&&Zi(e,"y",d)}}}else Zi(e,o,f)}return e}function Zi(e,n,t){const r=e.get(n);r!==void 0?r.push(t):e.set(n,[t])}function f2(e,n){if(e==null)return;const{x:t,y:r}=e;if(t==null&&r==null)return;const i=Ae(e.data);if(i==null)throw new Error("missing facet data");const a={};t!=null&&(a.fx=Wt(i,{value:t,scale:"fx"})),r!=null&&(a.fy=Wt(i,{value:r,scale:"fy"})),$f(a,n);const f=pf(i,a);return{channels:a,groups:f,data:e.data}}function Zo(e,n,t){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const c=Ae(e.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=Wt(c,{value:r,scale:"fx"})),i!=null&&(s.fy=Wt(c,{value:i,scale:"fy"})),$f(s,t),{channels:s,groups:pf(c,s)}}if(n===void 0)return;const{channels:a,groups:f,data:o}=n;if(e.facet!=="auto"||e.data===o)return{channels:a,groups:f};o.length>0&&(f.size>1||f.size===1&&a.fx&&a.fy&&[...f][0][1].size>1)&&Ae(e.data)?.length===o.length&&An(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function o2(e,n={}){return jr({...n,x:null,y:null},(t,r,i,a,f,o)=>o.getMarkState(e))}function c2(e){const n=[];for(const t of e){let r=t.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?zm:/^y$/i.test(i)?Oo:Bm,r=i(o2(t,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Oo?"left":"bottom");const f=Xb(t.data,r);f.facet=t.facet,f.facetAnchor=t.facetAnchor,n.push(f)}}return n}function u2(e,n,t){let{projection:r,x:i={},y:a={},fx:f={},fy:o={},axis:c,grid:s,facet:u={},facet:{axis:d=c,grid:l}=u,x:{axis:h=c,grid:p=h===null?null:s}=i,y:{axis:g=c,grid:b=g===null?null:s}=a,fx:{axis:w=d,grid:m=w===null?null:l}=f,fy:{axis:$=d,grid:y=$===null?null:l}=o}=t;(r||!Aa(i)&&!Ko("x",e))&&(h=p=null),(r||!Aa(a)&&!Ko("y",e))&&(g=b=null),n.has("fx")||(w=m=null),n.has("fy")||($=y=null),h===void 0&&(h=!yr(e,"x")),g===void 0&&(g=!yr(e,"y")),w===void 0&&(w=!yr(e,"fx")),$===void 0&&($=!yr(e,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),$===!0&&($=g==="right"||g===null?"left":"right");const M=[];return br(M,y,Eb,o),mr(M,$,Mb,"right","left",u,o),br(M,m,Lb,f),mr(M,w,$b,"top","bottom",u,f),br(M,b,Ab,a),mr(M,g,Id,"left","right",t,a),br(M,p,Db,i),mr(M,h,Nd,"bottom","top",t,i),M}function mr(e,n,t,r,i,a,f){if(!n)return;const o=s2(n);f=l2(o?r:n,a,f);const{line:c}=f;(t===Id||t===Nd)&&c&&!qt(c)&&e.push(jb(d2(f))),e.push(t(f)),o&&e.push(t({...f,anchor:i,label:null}))}function br(e,n,t,r){!n||qt(n)||e.push(t(h2(n,r)))}function s2(e){return/^\s*both\s*$/i.test(e)}function l2(e,n,{line:t=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:f,tickFormat:o,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:e,line:t,ticks:r,tickSize:i,tickSpacing:a,tickPadding:f,tickFormat:o,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function d2(e){const{anchor:n,line:t}=e;return{anchor:n,facetAnchor:n+"-empty",stroke:t===!0?void 0:t}}function h2(e,{stroke:n=li(e)?e:void 0,ticks:t=p2(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:t,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function p2(e){switch(typeof e){case"number":return!0;case"string":return!li(e)}return Wn(e)||typeof e?.range=="function"}function yr(e,n){const t=`${n}-axis `;return e.some(r=>r.ariaLabel?.startsWith(t))}function Ko(e,n){for(const t of n)for(const r in t.channels){const{scale:i}=t.channels[r];if(i===e||i==="projection")return!0}return!1}function g2(e,n){for(const t in e){const r=e[t],i=n[t];r.label===void 0&&i&&(r.label=i.label)}return e}function m2({fx:e,fy:n},t){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:o,height:c}=hf(t),s=e&&Qo(e),u=n&&Qo(n);return{marginTop:n?u[0]:r,marginRight:e?o-s[1]:i,marginBottom:n?c-u[1]:a,marginLeft:e?s[0]:f,inset:{marginTop:t.marginTop,marginRight:t.marginRight,marginBottom:t.marginBottom,marginLeft:t.marginLeft},width:o,height:c}}function Qo(e){const n=e.domain();let t=e(n[0]),r=e(n[n.length-1]);return r<t&&([t,r]=[r,t]),[t,r+e.bandwidth()]}function b2(e={}){return yl(e)?e:{...e,x:Pe}}function y2(e,n){if(n.length===1)return{data:e,facets:n};const t=e.length,r=new Uint8Array(t);let i=0;for(const o of n)for(const c of o)r[c]&&++i,r[c]=1;if(i===0)return{data:e,facets:n};e=Ot(e);const a=e[hl]=new Uint32Array(t+i);n=n.map(o=>Ot(o,Uint32Array));let f=t;r.fill(0);for(const o of n)for(let c=0,s=o.length;c<s;++c){const u=o[c];r[u]?(o[c]=f,e[f]=e[u],a[f]=u,++f):a[u]=u,r[u]=1}return{data:e,facets:n}}function w2(e={},n={}){arguments.length===1&&([e,n]=M2(e));const{y1:t,y:r=t,x:i,...a}=n,[f,o,c,s]=x2(r,i,"y","x",e,a);return{...f,y1:t,y:o,x1:c,x2:s,x:Ip(c,s)}}function v2({x:e,x1:n,x2:t,...r}={}){return r=gf(r,"y"),n===void 0&&t===void 0?w2({x:e,...r}):([n,t]=Ap(e,n,t),{...r,x1:n,x2:t})}function M2(e){const{offset:n,order:t,reverse:r,...i}=e;return[{offset:n,order:t,reverse:r},i]}const $2={length:!0};function x2(e,n=wp,t,r,{offset:i,order:a,reverse:f},o){if(n===null)throw new Error(`stack requires ${r}`);const c=Ep(o),[s,u]=Lp(e),[d,l]=Ea(n),[h,p]=Ea(n);return d.hint=h.hint=$2,i=T2(i),a=A2(a,i,r),[Cl(o,(g,b,w)=>{({data:g,facets:b}=y2(g,b));const m=e==null?void 0:u(Np(Fe(g,e),w?.[t])),$=Fe(g,n,Float64Array),y=Fe(g,c),M=a&&a(g,m,$,y),v=g.length,T=l(new Float64Array(v)),D=p(new Float64Array(v)),C=[];for(const L of b){const E=m?Array.from(vc(L,O=>m[O]).values()):[L];if(M)for(const O of E)O.sort(M);for(const O of E){let z=0,k=0;f&&O.reverse();for(const x of O){const N=$[x];N<0?z=D[x]=(T[x]=z)+N:N>0?k=D[x]=(T[x]=k)+N:D[x]=T[x]=k}}C.push(E)}return i&&i(C,T,D,y),{data:g,facets:b}}),s,d,h]}function T2(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return S2;case"center":case"silhouette":return C2;case"wiggle":return Zd}throw new Error(`unknown offset: ${e}`)}}function Gd(e,n){let t=0,r=0;for(const i of e){const a=n[i];a<t&&(t=a),a>r&&(r=a)}return[t,r]}function S2(e,n,t){for(const r of e)for(const i of r){const[a,f]=Gd(i,t);for(const o of i){const c=1/(f-a||1);n[o]=c*(n[o]-a),t[o]=c*(t[o]-a)}}}function C2(e,n,t){for(const r of e){for(const i of r){const[a,f]=Gd(i,t);for(const o of i){const c=(f+a)/2;n[o]-=c,t[o]-=c}}Kd(r,n,t)}Qd(e,n,t)}function Zd(e,n,t,r){for(const i of e){const a=new Dn;let f=0;for(const o of i){let c=-1;const s=o.map(h=>Math.abs(t[h]-n[h])),u=o.map(h=>{c=r?r[h]:++c;const p=t[h]-n[h],g=a.has(c)?p-a.get(c):0;return a.set(c,p),g}),d=[0,...g0(u)];for(const h of o)n[h]+=f,t[h]+=f;const l=Ln(s);l&&(f-=Ln(s,(h,p)=>(u[p]/2+d[p])*h)/l)}Kd(i,n,t)}Qd(e,n,t)}function Kd(e,n,t){const r=dn(e,i=>dn(i,a=>n[a]));for(const i of e)for(const a of i)n[a]-=r,t[a]-=r}function Qd(e,n,t){const r=e.length;if(r===1)return;const i=e.map(o=>o.flat()),a=i.map(o=>(dn(o,c=>n[c])+Be(o,c=>t[c]))/2),f=dn(a);for(let o=0;o<r;o++){const c=f-a[o];for(const s of i[o])n[s]+=c,t[s]+=c}}function A2(e,n,t){if(e===void 0&&n===Zd)return Jo(Je);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?Hr:Je;switch((r?e.slice(1):e).toLowerCase()){case"value":case t:return E2(i);case"z":return D2(i);case"sum":return L2(i);case"appearance":return I2(i);case"inside-out":return Jo(i)}return ec(pl(e))}if(typeof e=="function")return(e.length===1?ec:N2)(e);if(Array.isArray(e))return R2(e);throw new Error(`invalid order: ${e}`)}}function E2(e){return(n,t,r)=>(i,a)=>e(r[i],r[a])}function D2(e){return(n,t,r,i)=>(a,f)=>e(i[a],i[f])}function L2(e){return yi(e,(n,t,r,i)=>Ba($n(n),a=>Ln(a,f=>r[f]),a=>i[a]))}function I2(e){return yi(e,(n,t,r,i)=>Ba($n(n),a=>t[xc(a,f=>r[f])],a=>i[a]))}function Jo(e){return yi(e,(n,t,r,i)=>{const a=$n(n),f=Ba(a,d=>t[xc(d,l=>r[l])],d=>i[d]),o=At(a,d=>Ln(d,l=>r[l]),d=>i[d]),c=[],s=[];let u=0;for(const d of f)u<0?(u+=o.get(d),c.push(d)):(u-=o.get(d),s.push(d));return s.reverse().concat(c)})}function ec(e){return n=>{const t=Fe(n,e);return(r,i)=>Je(t[r],t[i])}}function N2(e){return n=>(t,r)=>e(n[t],n[r])}function R2(e){return yi(Je,()=>e)}function yi(e,n){return(t,r,i,a)=>{if(!a)throw new Error("missing channel: z");const f=new Dn(n(t,r,i,a).map((o,c)=>[o,c]));return(o,c)=>e(f.get(a[o]),f.get(a[c]))}}class k2 extends nn{constructor(n,t,r={},i){super(n,t,r,i);const{inset:a=0,insetTop:f=a,insetRight:o=a,insetBottom:c=a,insetLeft:s=a,rx:u,ry:d}=r;this.insetTop=ce(f),this.insetRight=ce(o),this.insetBottom=ce(c),this.insetLeft=ce(s),this.rx=be(u,"auto"),this.ry=be(d,"auto")}render(n,t,r,i,a){const{rx:f,ry:o}=this;return ve("svg:g",a).call(Bn,this,i,a).call(this._transform,this,t).call(c=>c.selectAll().data(n).enter().append("rect").call(zn,this).attr("x",this._x(t,r,i)).attr("width",this._width(t,r,i)).attr("y",this._y(t,r,i)).attr("height",this._height(t,r,i)).call(K,"rx",f).call(K,"ry",o).call(st,this,r)).node()}_x(n,{x:t},{marginLeft:r}){const{insetLeft:i}=this;return t?a=>t[a]+i:r+i}_y(n,{y:t},{marginTop:r}){const{insetTop:i}=this;return t?a=>t[a]+i:r+i}_width({x:n},{x:t},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:f,insetRight:o}=this,c=t&&n?n.bandwidth():a-r-i;return Math.max(0,c-f-o)}_height({y:n},{y:t},{marginTop:r,marginBottom:i,height:a}){const{insetTop:f,insetBottom:o}=this,c=t&&n?n.bandwidth():a-r-i;return Math.max(0,c-f-o)}}const F2={ariaLabel:"bar"};class U2 extends k2{constructor(n,t={}){const{x1:r,x2:i,y:a}=t;super(n,{x1:{value:r,scale:"x"},x2:{value:i,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},t,F2)}_transform(n,t,{x:r}){n.call(Yn,t,{x:r},0,0)}_x({x:n},{x1:t,x2:r},{marginLeft:i}){const{insetLeft:a}=this;return ot(n)?i+a:f=>Math.min(t[f],r[f])+a}_width({x:n},{x1:t,x2:r},{marginRight:i,marginLeft:a,width:f}){const{insetLeft:o,insetRight:c}=this;return ot(n)?f-i-a-o-c:s=>Math.max(0,Math.abs(r[s]-t[s])-o-c)}}function O2(e,n={}){return Cp(n)||(n={...n,y:gl,x2:Pe}),new U2(e,v2(dd(b2(n))))}const _2=()=>{const e=wi.useRef(null),n=["Alaska","Ala.","Ark.","Ariz.","Calif.","Colo.","Conn.","D.C.","Del.","Fla.","Ga.","Hawaii","Iowa","Idaho","Ill.","Ind.","Kan.","Ky.","La.","Mass.","Md.","Maine","Mich.","Minn.","Mo.","Miss.","Mont.","N.C.","N.D.","Neb.","N.H.","N.J.","N.M","Nev.","N.Y.","Ohio","Okla.","Ore.","Pa.","R.I.","S.C.","S.D.","Tenn.","Texas","Utah","Va.","Vt.","Wash.","Wis.","W.Va.","Wyo."],[t,r]=wi.useState("Measles"),i=async()=>{let f=await fetch("/notes_astro3/assets/vaccines.json");f=await f.json();let o=f.flatMap(({title:u,data:{values:{data:d}}})=>d.map(([l,h,p])=>({disease:u,date:new Date(`${l}-01-01`),state:n[h],cases:p}))),c=f.map(({title:u,data:{chart_options:{vaccine_year:d}}})=>({disease:u,date:new Date(Date.UTC(d,d%1*12,1))}));return Vd({marginBottom:30,padding:0,round:!1,label:null,x:{axis:"top"},color:{scheme:"purd",legend:!0,type:"sqrt",label:"10"},marks:[O2(o.filter(u=>u.disease===t),{x:"date",y:"state",interval:"year",inset:.5,fill:"cases",title:"cases"}),pd([c.find(u=>u.disease===t)],{x:"date"}),yf([c.find(u=>u.disease===t)],{x:"date",dy:4,lineAnchor:"top",frameAnchor:"bottom",text:u=>`${u.date.getUTCFullYear()}
Vaccine introduced`})],document})};return wi.useEffect(()=>(i().then(a=>{e.current?.appendChild(a)}),()=>{e.current.innerHTML=""})),Ee.jsxs(Ee.Fragment,{children:[Ee.jsx("h2",{children:t}),Ee.jsxs("select",{"data-te-select-init":!0,value:t,onChange:a=>{r(a.target.value)},children:[Ee.jsx("option",{value:"Measles",children:"Measles"}),Ee.jsx("option",{value:"Hepatitis A",children:"Hepatitis A"}),Ee.jsx("option",{value:"Mumps",children:"Mumps"}),Ee.jsx("option",{value:"Pertussis (Whooping Cough)",children:"Pertussis (Whooping Cough)"}),Ee.jsx("option",{value:"Polio",children:"Polio"}),Ee.jsx("option",{value:"Rubella",children:"Rubella"}),Ee.jsx("option",{value:"Smallpox",children:"Smallpox"})]}),Ee.jsx("div",{ref:e})]})};export{_2 as default};
