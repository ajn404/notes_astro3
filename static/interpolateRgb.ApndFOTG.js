import{j as S}from"./jsx-runtime.bkUup59_.js";import{s as z}from"./transform.rIbAU3BW.js";import{r as E}from"./index.yqZja8WZ.js";import{i as A}from"./rainbow.E6mQWB6L.js";import"./_commonjsHelpers.4gQjN7DL.js";var Q=1e-12;function T(t){return((t=Math.exp(t))+1/t)/2}function B(t){return((t=Math.exp(t))-1/t)/2}function I(t){return((t=Math.exp(2*t))-1)/(t+1)}const N=function t(r,u,m){function v(h,e){var o=h[0],c=h[1],n=h[2],f=e[0],w=e[1],i=e[2],M=f-o,a=w-c,s=M*M+a*a,l,d;if(s<Q)d=Math.log(i/n)/r,l=function(g){return[o+g*M,c+g*a,n*Math.exp(r*g*d)]};else{var x=Math.sqrt(s),R=(i*i-n*n+m*s)/(2*n*u*x),y=(i*i-n*n-m*s)/(2*i*u*x),p=Math.log(Math.sqrt(R*R+1)-R),_=Math.log(Math.sqrt(y*y+1)-y);d=(_-p)/r,l=function(g){var q=g*d,$=T(p),j=n/(u*x)*($*I(r*q+p)-B(p));return[o+j*M,c+j*a,n*$/T(r*q+p)]}}return l.duration=d*1e3*r/Math.SQRT2,l}return v.rho=function(h){var e=Math.max(.001,+h),o=e*e,c=o*o;return t(e,o,c)},v}(Math.SQRT2,2,4),F=()=>{const t=E.useRef(null),r=500,u=500,m=6,v=m*2,h=Math.PI*(3-Math.sqrt(5)),e=Array.from({length:2e3},(o,c)=>{const n=v*Math.sqrt(c+=.5),f=h*c;return[u/2+n*Math.cos(f),r/2+n*Math.sin(f)]});return E.useEffect(()=>{const o=z(t.current);return(()=>{let n=[u/2,r/2,r];const f=o.attr("viewBox",[0,0,u,r]),w=f.append("g");w.selectAll("circle").data(e).join("circle").attr("cx",([a])=>a).attr("cy",([,a])=>a).attr("r",m).attr("fill",(a,s)=>A(s/360));function i(){const a=e[Math.floor(Math.random()*e.length)],s=N(n,[...a,m*2+1]);w.transition().delay(250).duration(s.duration).attrTween("transform",()=>l=>M(n=s(l))).on("end",i)}function M([a,s,l]){return`
      translate(${u/2}, ${r/2})
      scale(${r/l})
      translate(${-a}, ${-s})
    `}return f.call(i).node()})(),()=>{o.remove()}}),S.jsx("svg",{ref:t,className:"min-h-[50vw] w-[50vw]"})};export{F as default};
