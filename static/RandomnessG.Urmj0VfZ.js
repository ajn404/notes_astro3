import{j as t}from"./jsx-runtime.bkUup59_.js";import E from"./index.8PTsr6DN.js";import{r as a}from"./index.yqZja8WZ.js";import{u as H}from"./index.rZxDIilA.js";import{s as L,E as C,H as M,t as o,b as P,j as T,k as G,d as W}from"./index.TuoKsT2g.js";import"./preload-helper.xfflGrcd.js";import"./_commonjsHelpers.4gQjN7DL.js";import"./index.KjuS0gPF.js";const z="#e5c07b",b="#e06c75",F="#56b6c2",I="#ffffff",n="#abb2bf",f="#7d8799",K="#61afef",X="#98c379",h="#d19a66",$="#c678dd",V="#21252b",x="#2c313a",k="#282c34",m="#353a42",q="#3E4451",y="#528bff",A=C.theme({"&":{color:n,backgroundColor:k},".cm-content":{caretColor:y},".cm-cursor, .cm-dropCursor":{borderLeftColor:y},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:q},".cm-panels":{backgroundColor:V,color:n},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:k,color:f,border:"none"},".cm-activeLineGutter":{backgroundColor:x},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:m},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:m,borderBottomColor:m},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:x,color:n}}},{dark:!0}),J=M.define([{tag:o.keyword,color:$},{tag:[o.name,o.deleted,o.character,o.propertyName,o.macroName],color:b},{tag:[o.function(o.variableName),o.labelName],color:K},{tag:[o.color,o.constant(o.name),o.standard(o.name)],color:h},{tag:[o.definition(o.name),o.separator],color:n},{tag:[o.typeName,o.className,o.number,o.changed,o.annotation,o.modifier,o.self,o.namespace],color:z},{tag:[o.operator,o.operatorKeyword,o.url,o.escape,o.regexp,o.link,o.special(o.string)],color:F},{tag:[o.meta,o.comment],color:f},{tag:o.strong,fontWeight:"bold"},{tag:o.emphasis,fontStyle:"italic"},{tag:o.strikethrough,textDecoration:"line-through"},{tag:o.link,color:f,textDecoration:"underline"},{tag:o.heading,fontWeight:"bold",color:b},{tag:[o.atom,o.bool,o.special(o.variableName)],color:h},{tag:[o.processingInstruction,o.string,o.inserted],color:X},{tag:o.invalid,color:I}]),O=[A,L(J)],ro=()=>{const[s,w]=a.useState(.01),v=a.useState(.1),l=a.useRef(null),r=H(s,300);let g;const j=a.useCallback(e=>{const N=()=>{e.createCanvas(e.windowWidth/2,240),e.loadPixels()},R=()=>{let u=0;for(let i=0;i<e.width;i++){let p=0;for(let d=0;d<e.height;d++){const D=e.map(e.noise(u,p,e.frameCount*.009),0,1,0,255),c=e.floor(D);e.set(i,d,[c,c,c,c]),p+=.01}u+=r}e.updatePixels()},S=()=>e.setup();e.setup=N,e.draw=R,e.windowResized=S},[r]);a.useEffect(()=>{g?.destroy(),l.current.innerHTML="";const e=` const draw = () => {
            p.loadPixels();
            let xoff = 0.0;
            for (let x = 0; x < p.width; x++) {
                let yoff = 0.0;
                for (let y = 0; y < p.height; y++) {
                    const bright = p.map(
                        p.noise(xoff, yoff, p.frameCount * 0.009),
                        0,
                        1,
                        0,
                        255
                    );
                    const n = p.floor(bright);
                    p.set(x, y, [n, n, n, n]);
                    yoff += 0.01;
                }
                xoff += ${r}; //配置项
            }
            p.updatePixels();
        };`;g=new C({doc:e,extensions:[P,T({jsx:!0,typescript:!0}),O,G.of(W)],parent:l.current})},[r]);const B=e=>{w(parseFloat(e))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"gap-4 randomG",children:[t.jsx(E,{sketch:j,showControls:!0}),t.jsxs("div",{className:"flex items-center text-nowrap gap-4",children:[t.jsxs("span",{children:["xoffRate:",r]}),t.jsx("input",{type:"range",max:v[0],className:"transparent h-[4px] w-full cursor-pointer appearance-none border-transparent bg-neutral-200 dark:bg-neutral-600",value:s,title:`${s}`,step:.01,onChange:e=>B(e.target.value)})]}),t.jsx("div",{className:"editor mt-4",ref:l})]})})};export{ro as default};
