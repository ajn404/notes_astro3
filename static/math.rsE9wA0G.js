const r=Math.PI,x=2*r,u=1e-6,L=x-u;function A(a){this._+=a[0];for(let t=1,i=a.length;t<i;++t)this._+=arguments[t]+a[t]}function g(a){let t=Math.floor(a);if(!(t>=0))throw new Error(`invalid digits: ${a}`);if(t>15)return A;const i=10**t;return function(s){this._+=s[0];for(let h=1,n=s.length;h<n;++h)this._+=Math.round(arguments[h]*i)/i+s[h]}}class w{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?A:g(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,s,h){this._append`Q${+t},${+i},${this._x1=+s},${this._y1=+h}`}bezierCurveTo(t,i,s,h,n,$){this._append`C${+t},${+i},${+s},${+h},${this._x1=+n},${this._y1=+$}`}arcTo(t,i,s,h,n){if(t=+t,i=+i,s=+s,h=+h,n=+n,n<0)throw new Error(`negative radius: ${n}`);let $=this._x1,c=this._y1,l=s-t,o=h-i,e=$-t,p=c-i,_=e*e+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(_>u)if(!(Math.abs(p*l-o*e)>u)||!n)this._append`L${this._x1=t},${this._y1=i}`;else{let M=s-$,d=h-c,b=l*l+o*o,E=M*M+d*d,m=Math.sqrt(b),v=Math.sqrt(_),P=n*Math.tan((r-Math.acos((b+_-E)/(2*m*v)))/2),f=P/v,q=P/m;Math.abs(f-1)>u&&this._append`L${t+f*e},${i+f*p}`,this._append`A${n},${n},0,0,${+(p*M>e*d)},${this._x1=t+q*l},${this._y1=i+q*o}`}}arc(t,i,s,h,n,$){if(t=+t,i=+i,s=+s,$=!!$,s<0)throw new Error(`negative radius: ${s}`);let c=s*Math.cos(h),l=s*Math.sin(h),o=t+c,e=i+l,p=1^$,_=$?h-n:n-h;this._x1===null?this._append`M${o},${e}`:(Math.abs(this._x1-o)>u||Math.abs(this._y1-e)>u)&&this._append`L${o},${e}`,s&&(_<0&&(_=_%x+x),_>L?this._append`A${s},${s},0,1,${p},${t-c},${i-l}A${s},${s},0,1,${p},${this._x1=o},${this._y1=e}`:_>u&&this._append`A${s},${s},0,${+(_>=r)},${p},${this._x1=t+s*Math.cos(n)},${this._y1=i+s*Math.sin(n)}`)}rect(t,i,s,h){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${s=+s}v${+h}h${-s}Z`}toString(){return this._}}function C(a=3){return new w(+a)}const I=Math.abs,R=Math.atan2,Z=Math.cos,j=Math.max,k=Math.min,z=Math.sin,Q=Math.sqrt,S=1e-12,y=Math.PI,T=y/2,B=2*y;function D(a){return a>1?0:a<-1?y:Math.acos(a)}function F(a){return a>=1?T:a<=-1?-T:Math.asin(a)}export{w as P,Q as a,I as b,Z as c,R as d,S as e,F as f,D as g,T as h,j as i,C as j,k as m,y as p,z as s,B as t};
