import{_ as Z}from"./extends.dGVwEr9R.js";import{r as i}from"./index.yqZja8WZ.js";import{b as Ae,$ as q}from"./utils.2MHNVc1L.js";import{a as re,c as De,b as Re,o as _e,s as Ne,l as Te,f as Me,d as Le,h as Ie}from"./floating-ui.dom.Dg0RJfBy.js";import{r as Q}from"./index.Gf7RXaaD.js";function ke(e,t=[]){let n=[];function r(s,l){const a=i.createContext(l),d=n.length;n=[...n,l];function c(u){const{scope:h,children:p,...m}=u,C=h?.[e][d]||a,b=i.useMemo(()=>m,Object.values(m));return i.createElement(C.Provider,{value:b},p)}function f(u,h){const p=h?.[e][d]||a,m=i.useContext(p);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,f]}const o=()=>{const s=n.map(l=>i.createContext(l));return function(a){const d=a?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...a,[e]:d}}),[a,d])}};return o.scopeName=e,[r,We(o,...t)]}function We(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=r.reduce((a,{useScope:d,scopeName:c})=>{const u=d(s)[`__scope${c}`];return{...a,...u}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function G(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}const F=globalThis?.document?i.useLayoutEffect:()=>{},ze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],V=ze.reduce((e,t)=>{const n=i.forwardRef((r,o)=>{const{asChild:s,...l}=r,a=s?Ae:t;return i.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),i.createElement(a,Z({},l,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Fe(e,t){e&&Q.flushSync(()=>e.dispatchEvent(t))}function I(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Ue(e,t=globalThis?.document){const n=I(e);i.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const J="dismissableLayer.update",Be="dismissableLayer.pointerDownOutside",He="dismissableLayer.focusOutside";let oe;const je=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pt=i.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:a,onDismiss:d,...c}=e,f=i.useContext(je),[u,h]=i.useState(null),p=(n=u?.ownerDocument)!==null&&n!==void 0?n:globalThis?.document,[,m]=i.useState({}),C=q(t,$=>h($)),b=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(x),w=u?b.indexOf(u):-1,v=f.layersWithOutsidePointerEventsDisabled.size>0,y=w>=E,O=Xe($=>{const S=$.target,T=[...f.branches].some(A=>A.contains(S));!y||T||(s?.($),a?.($),$.defaultPrevented||d?.())},p),P=Ye($=>{const S=$.target;[...f.branches].some(A=>A.contains(S))||(l?.($),a?.($),$.defaultPrevented||d?.())},p);return Ue($=>{w===f.layers.size-1&&(o?.($),!$.defaultPrevented&&d&&($.preventDefault(),d()))},p),i.useEffect(()=>{if(u)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(oe=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(u)),f.layers.add(u),ie(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=oe)}},[u,p,r,f]),i.useEffect(()=>()=>{u&&(f.layers.delete(u),f.layersWithOutsidePointerEventsDisabled.delete(u),ie())},[u,f]),i.useEffect(()=>{const $=()=>m({});return document.addEventListener(J,$),()=>document.removeEventListener(J,$)},[]),i.createElement(V.div,Z({},c,{ref:C,style:{pointerEvents:v?y?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,P.onFocusCapture),onBlurCapture:G(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,O.onPointerDownCapture)}))});function Xe(e,t=globalThis?.document){const n=I(e),r=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){ce(Be,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Ye(e,t=globalThis?.document){const n=I(e),r=i.useRef(!1);return i.useEffect(()=>{const o=s=>{s.target&&!r.current&&ce(He,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ie(){const e=new CustomEvent(J);document.dispatchEvent(e)}function ce(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Fe(o,s):o.dispatchEvent(s)}const Ke=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?re({element:r.current,padding:o}).fn(n):{}:r?re({element:r,padding:o}).fn(n):{}}}};var Y=typeof document<"u"?i.useLayoutEffect:i.useEffect;function K(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!K(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!K(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function de(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function se(e,t){const n=de(e);return Math.round(t*n)/n}function ae(e){const t=i.useRef(e);return Y(()=>{t.current=e}),t}function Ze(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:l}={},transform:a=!0,whileElementsMounted:d,open:c}=e,[f,u]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=i.useState(r);K(h,r)||p(r);const[m,C]=i.useState(null),[b,x]=i.useState(null),E=i.useCallback(g=>{g!==O.current&&(O.current=g,C(g))},[]),w=i.useCallback(g=>{g!==P.current&&(P.current=g,x(g))},[]),v=s||m,y=l||b,O=i.useRef(null),P=i.useRef(null),$=i.useRef(f),S=d!=null,T=ae(d),A=ae(o),D=i.useCallback(()=>{if(!O.current||!P.current)return;const g={placement:t,strategy:n,middleware:h};A.current&&(g.platform=A.current),De(O.current,P.current,g).then(M=>{const N={...M,isPositioned:!0};k.current&&!K($.current,N)&&($.current=N,Q.flushSync(()=>{u(N)}))})},[h,t,n,A]);Y(()=>{c===!1&&$.current.isPositioned&&($.current.isPositioned=!1,u(g=>({...g,isPositioned:!1})))},[c]);const k=i.useRef(!1);Y(()=>(k.current=!0,()=>{k.current=!1}),[]),Y(()=>{if(v&&(O.current=v),y&&(P.current=y),v&&y){if(T.current)return T.current(v,y,D);D()}},[v,y,D,T,S]);const R=i.useMemo(()=>({reference:O,floating:P,setReference:E,setFloating:w}),[E,w]),_=i.useMemo(()=>({reference:v,floating:y}),[v,y]),W=i.useMemo(()=>{const g={position:n,left:0,top:0};if(!_.floating)return g;const M=se(_.floating,f.x),N=se(_.floating,f.y);return a?{...g,transform:"translate("+M+"px, "+N+"px)",...de(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:N}},[n,a,_.floating,f.x,f.y]);return i.useMemo(()=>({...f,update:D,refs:R,elements:_,floatingStyles:W}),[f,D,R,_,W])}function qe(e){const[t,n]=i.useState(void 0);return F(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let l,a;if("borderBoxSize"in s){const d=s.borderBoxSize,c=Array.isArray(d)?d[0]:d;l=c.inlineSize,a=c.blockSize}else l=e.offsetWidth,a=e.offsetHeight;n({width:l,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const le="Popper",[ue,$t]=ke(le),[Ge,fe]=ue(le),Je=e=>{const{__scopePopper:t,children:n}=e,[r,o]=i.useState(null);return i.createElement(Ge,{scope:t,anchor:r,onAnchorChange:o},n)},Qe="PopperAnchor",Ve=i.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=fe(Qe,n),l=i.useRef(null),a=q(t,l);return i.useEffect(()=>{s.onAnchorChange(r?.current||l.current)}),r?null:i.createElement(V.div,Z({},o,{ref:a}))}),pe="PopperContent",[et,ht]=ue(pe),tt=i.forwardRef((e,t)=>{var n,r,o,s,l,a,d,c;const{__scopePopper:f,side:u="bottom",sideOffset:h=0,align:p="center",alignOffset:m=0,arrowPadding:C=0,avoidCollisions:b=!0,collisionBoundary:x=[],collisionPadding:E=0,sticky:w="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:O,...P}=e,$=fe(pe,f),[S,T]=i.useState(null),A=q(t,z=>T(z)),[D,k]=i.useState(null),R=qe(D),_=(n=R?.width)!==null&&n!==void 0?n:0,W=(r=R?.height)!==null&&r!==void 0?r:0,g=u+(p!=="center"?"-"+p:""),M=typeof E=="number"?E:{top:0,right:0,bottom:0,left:0,...E},N=Array.isArray(x)?x:[x],he=N.length>0,U={padding:M,boundary:N.filter(nt),altBoundary:he},{refs:me,floatingStyles:ee,placement:ve,isPositioned:B,middlewareData:L}=Ze({strategy:"fixed",placement:g,whileElementsMounted:(...z)=>Re(...z,{animationFrame:y==="always"}),elements:{reference:$.anchor},middleware:[_e({mainAxis:h+W,alignmentAxis:m}),b&&Ne({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?Te():void 0,...U}),b&&Me({...U}),Le({...U,apply:({elements:z,rects:ne,availableWidth:xe,availableHeight:Oe})=>{const{width:Se,height:Ce}=ne.reference,j=z.floating.style;j.setProperty("--radix-popper-available-width",`${xe}px`),j.setProperty("--radix-popper-available-height",`${Oe}px`),j.setProperty("--radix-popper-anchor-width",`${Se}px`),j.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),D&&Ke({element:D,padding:C}),rt({arrowWidth:_,arrowHeight:W}),v&&Ie({strategy:"referenceHidden",...U})]}),[te,ge]=$e(ve),H=I(O);F(()=>{B&&H?.()},[B,H]);const be=(o=L.arrow)===null||o===void 0?void 0:o.x,we=(s=L.arrow)===null||s===void 0?void 0:s.y,ye=((l=L.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[Pe,Ee]=i.useState();return F(()=>{S&&Ee(window.getComputedStyle(S).zIndex)},[S]),i.createElement("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:B?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(a=L.transformOrigin)===null||a===void 0?void 0:a.x,(d=L.transformOrigin)===null||d===void 0?void 0:d.y].join(" ")},dir:e.dir},i.createElement(et,{scope:f,placedSide:te,onArrowChange:k,arrowX:be,arrowY:we,shouldHideArrow:ye},i.createElement(V.div,Z({"data-side":te,"data-align":ge},P,{ref:A,style:{...P.style,animation:B?void 0:"none",opacity:(c=L.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function nt(e){return e!==null}const rt=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,s,l;const{placement:a,rects:d,middlewareData:c}=t,u=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[m,C]=$e(a),b={start:"0%",center:"50%",end:"100%"}[C],x=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+h/2,E=((s=(l=c.arrow)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0)+p/2;let w="",v="";return m==="bottom"?(w=u?b:`${x}px`,v=`${-p}px`):m==="top"?(w=u?b:`${x}px`,v=`${d.floating.height+p}px`):m==="right"?(w=`${-p}px`,v=u?b:`${E}px`):m==="left"&&(w=`${d.floating.width+p}px`,v=u?b:`${E}px`),{data:{x:w,y:v}}}});function $e(e){const[t,n="center"]=e.split("-");return[t,n]}const mt=Je,vt=Ve,gt=tt;function ot(e,t){return i.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const it=e=>{const{present:t,children:n}=e,r=st(t),o=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),s=q(r.ref,o.ref);return typeof n=="function"||r.isPresent?i.cloneElement(o,{ref:s}):null};it.displayName="Presence";function st(e){const[t,n]=i.useState(),r=i.useRef({}),o=i.useRef(e),s=i.useRef("none"),l=e?"mounted":"unmounted",[a,d]=ot(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const c=X(r.current);s.current=a==="mounted"?c:"none"},[a]),F(()=>{const c=r.current,f=o.current;if(f!==e){const h=s.current,p=X(c);e?d("MOUNT"):p==="none"||c?.display==="none"?d("UNMOUNT"):d(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),F(()=>{if(t){const c=u=>{const p=X(r.current).includes(u.animationName);u.target===t&&p&&Q.flushSync(()=>d("ANIMATION_END"))},f=u=>{u.target===t&&(s.current=X(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:i.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function X(e){return e?.animationName||"none"}function bt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=at({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:r,a=I(n),d=i.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[l,d]}function at({defaultProp:e,onChange:t}){const n=i.useState(e),[r]=n,o=i.useRef(r),s=I(t);return i.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}export{ke as $,bt as a,V as b,G as c,I as d,F as e,$t as f,it as g,pt as h,gt as i,mt as j,vt as k,qe as l,Fe as m};
