import"./hoisted.zbeNCwAr.js";const p=function(){const d=window.matchMedia("(max-width: 640px)"),n=new WeakMap,c=new WeakMap;let i=!1;function m(s){s.matches?i=!1:i=!0}d.onchange=m,m(d),document.getElementById("目录")&&(g(),b());function g(){const s=new IntersectionObserver(t=>{t.forEach(e=>{const r=e.target.getAttribute("id"),o=document.querySelector(`#目录+ul li a[href="#${r}"]`);if(!o)return;const a=e.intersectionRatio>0?"add":"remove";o.classList[a]("active")}),h(),document.getElementById("目录")&&new IntersectionObserver(e=>{e[0].isIntersecting?e[0].target.classList.add("active"):e[0].target.classList.remove("active")}).observe(document.getElementById("目录"))});document.querySelectorAll("h2, h3, h4, h5 ").forEach(t=>{s.observe(t)}),document.getElementById("目录")&&new IntersectionObserver(t=>{t[0].isIntersecting?t[0].target.classList.add("active"):t[0].target.classList.remove("active")}).observe(document.getElementById("目录")),document.querySelector("footer.mt-auto")&&new IntersectionObserver(t=>{t[0].isIntersecting?t[0].target.classList.add("active"):t[0].target.classList.remove("active")}).observe(document.querySelector("footer.mt-auto"))}function y(){const s=document.querySelector("#目录+ul");if(!s)return;const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","path");t.classList.add("toc-progress"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.classList.add("toc-marker"),e.setAttribute("fill","none"),e.setAttribute("stroke","currentColor"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-width","2"),e.setAttribute("stroke-dashoffset","1"),e.setAttribute("stroke-linejoin","round"),t.appendChild(e),s.appendChild(t)}function b(){if(y(),!document.querySelector("#目录+ul"))return;new ResizeObserver(()=>{i&&(w(),h())}).observe(document.querySelector("#目录+ul"))}function w(){const s=document.querySelector("path.toc-marker");if(!s)return;const t=Array.from(document.querySelectorAll("#目录+ul a"));if(!t.length)return;let e=[],r=0;t.forEach((o,a)=>{const l=o.offsetLeft,u=o.offsetTop,f=o.offsetHeight;a===0?(n.set(o,0),e.push("M",l,u,"L",l,u+f)):(r!==l&&e.push("L",r,u),e.push("L",l,u),s.setAttribute("d",e.join(" ")),n.set(o,s.getTotalLength()),e.push("L",l,u+f)),r=l,s.setAttribute("d",e.join(" ")),c.set(o,s.getTotalLength())})}function h(){const s=document.querySelector("path.toc-marker");if(!s)return;const t=s.getTotalLength(),e=document.querySelectorAll("#目录+ul a.active");let r=t,o=0;e.forEach(a=>{r=Math.min(r,n.get(a)),o=Math.max(o,c.get(a))}),s.style.display=e.length?"inline":"none",s.setAttribute("stroke-dasharray",`1 ${r} ${o-r} ${t}`)}};p();document.addEventListener("astro:after-swap",p);const v=()=>{document.querySelectorAll("pre").forEach(n=>{const c=n.querySelector(".copy-button"),i=n.querySelector(".check-span");c&&c.addEventListener("click",()=>{navigator.clipboard.writeText(n.textContent?.trim()||""),i?.classList.remove("opacity-0"),c?.classList.add("opacity-0"),setTimeout(()=>{i?.classList.add("opacity-0"),c?.classList.remove("opacity-0")},2e3)})})};v();document.addEventListener("astro:after-swap",v);
