


---
---

<div contenteditable="true" class="content px-5" id="content"><p class="target-p">
    夏天如果这条街没有鞋匠<br/>
    我就打着赤脚站在太阳下<br/>
    看太阳<br/>
    我想到在白天出生的孩子<br/>
    一定是出于故意<br/>
    你来人间一趟<br/>
    你要看看太阳<br/>
    和你的心上人一起<br/>
    走在街上<br/>
    ——《夏天的太阳》
</p></div>
<div>
    <button id="insert-button" class="border-solid border-2 border-indigo-600 p-1 rounded-lg  hover:skew-y-2 ">Insert HTML</button>

</div>



<script>
    document.addEventListener('DOMContentLoaded', () => {
    const insertButton = document.getElementById('insert-button');
    if(!insertButton) return
    const handleInsert = () => {
        // Get the current selection
        const selection = window.getSelection();
        // document.execCommand('bold', false, null);  
        // document.execCommand('createLink', false, 'https://www.bilibili.com/');
        if(!selection||selection.rangeCount===0||!selection.focusNode?.parentElement?.classList.contains('target-p')) return

        // Get the range of the current selection
        const range = selection.getRangeAt(0);
        // Create a new element to insert
        const newElement = document.createElement('span');
        newElement.innerHTML = '海子';
        // Insert the new element at the current position
        range.insertNode(newElement);
    };


    insertButton.addEventListener('click', handleInsert);
});
</script>
